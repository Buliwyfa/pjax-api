/*
 * 
 * pjax
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT  http://opensource.org/licenses/mit-license.php  http://sourceforge.jp/projects/opensource/wiki/licenses%2FMIT_license
 * @version 1.23.2
 * @updated 2013/11/06
 * @author falsandtru https://github.com/falsandtru/
 * @Compressor Closure Compiler
 */
(function(e){var G,H,k=window,x=document,v=void 0,C=["settings"],I;e.fn.pjax=e.pjax=function(t){function V(a){W();b.load.script&&e("script").each(function(){var a=this,c,a="function"===typeof b.load.rewrite?n(b.load.rewrite,null,[a.cloneNode()])||a:a;(c=a.src)&&c in b.log.script||!c||b.load.reload&&e(a).is(b.load.reload)||(b.log.script[c]=!0)});e(a).undelegate(b.link,b.nss.click).delegate(b.link,b.nss.click,b.id,G=function(a){a.timeStamp=(new Date).getTime();var c=C[1];if(c.disable)return!1;c.destination.href=
A(this.href);if(c.location.protocol===c.destination.protocol&&c.location.host===c.destination.host&&!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){if(c.location.href===c.destination.href)return!1;if(!n(c.hashquery,null,[a,this.href])&&c.location.pathname+c.location.search===c.destination.pathname+c.destination.search)return c.hashclick=!0;var b,g;b=c.destination.href;c.area=n(c.options.area,null,[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(e(c.area).length&&
(!c.scope||D(c)))return c.cache[a.type.toLowerCase()]&&(g=B(b)),J(c,a,b,!0,g),!1}});e(a).undelegate(b.form,b.nss.submit).delegate(b.form,b.nss.submit,b.id,H=function(a){a.timeStamp=(new Date).getTime();var c=C[1];if(c.disable)return!1;c.destination.href=A(this.action);if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){var b,g;b=c.destination.href=A(c.destination.href.replace(/[?#].*/,"")+("GET"===a.target.method.toUpperCase()?"?"+e(a.target).serialize():""));c.area=n(c.options.area,null,
[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(e(c.area).length&&(!c.scope||D(c)))return c.cache[a.type.toLowerCase()]&&c.cache[a.target.method.toLowerCase()]&&(g=B(b)),J(c,a,b,!0,g),!1}});e(k).unbind(b.nss.popstate).bind(b.nss.popstate,b.id,function(a){a.timeStamp=(new Date).getTime();var c=C[1];if(c.disable)return!1;c.destination.href=A(k.location.href);if(c.location.href===c.destination.href)return!1;var b,g;if(!n(c.hashquery,null,[a,b])&&c.location.pathname+c.location.search===
c.destination.pathname+c.destination.search)return c.hashclick=c.hashclick&&Q()&&!1;b=c.destination.href;c.area=n(c.options.area,null,[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;if(c.landing){if(c.landing.href===b){c.landing=!1;return}c.landing=!1}if(e(c.area).length)return c.database&&c.fix.history&&N(b),c.cache[a.type.toLowerCase()]&&(g=B(b)),J(c,a,b,!1,g),!1});b.database&&b.fix.scroll&&e(k).unbind(b.nss.scroll).bind(b.nss.scroll,b.id,function(a,c){var b=C[1],g,n=arguments.callee;if(b.scroll.delay){for(;g=
b.scroll.queue.shift();)clearTimeout(g);g=setTimeout(function(){for(;g=b.scroll.queue.shift();)clearTimeout(g);K(e(k).scrollLeft(),e(k).scrollTop())},b.scroll.delay);b.scroll.queue.push(g)}else K(e(k).scrollLeft(),e(k).scrollTop());b.scroll.suspend&&!c&&(e(this).unbind(b.nss.scroll),setTimeout(function(){b.database&&b.fix.scroll&&e(k).bind(b.nss.scroll,b.id,n).trigger(b.nss.scroll,[!0])},b.scroll.suspend))})}function J(a,b,c,y,g){function h(a,b,m){var d=a.validate?a.validate.clone({name:"jquery.pjax.js - update()"}):
!1;d&&d.start();d&&(d.scope=function(a){return eval(a)});d&&d.test("1",1,0,"update()");d&&d.test("++",1,0,"start");a:{var g=a.speedcheck;g&&a.log.speed.name.push("update");g&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);var h=a.callbacks.update;if(!1!==n(h.before,null,[b,a.parameter,r,q,p],a.callbacks.async)){var l=window,k=document,u,f,s;try{d&&d.test("++",1,0,"try");d&&d.test("++",1,m?0:[a.contentType,p.getResponseHeader("Content-Type")],"content-type");if(!m&&-1===(p.getResponseHeader("Content-Type")||
"").toLowerCase().search(a.contentType))throw Error("throw: content-type mismatch");d&&d.test("++",m?"'usable'":"'unusable'",0,"cache");m&&!1!==n(h.cache.load.before,null,[b,a.parameter,m],a.callbacks.async)&&(p=m.XMLHttpRequest,r=p.responseText,q=m.textStatus,u=m.title,f=m.css,s=m.script,n(h.cache.load.after,null,[b,a.parameter,m],a.callbacks.async));d&&d.test("++",1,0,"initialize");var z,v,t,E;z=e(r);v=0<z.filter("title").length;t=a.area.replace(/(\((.*?(\(.*?\).*?)?)*?\)|\S)(,|$)/g,function(a,
b,c,d,m){return b+(m?"|":"")}).split(/\s*\|(?!=)\s*/);v||(r=r.replace(/^((?:.|[\n\r])*?<body[^>]*>.*[\n\r]*.*[\n\r]*)/im,"$1").replace(/\x3c!--\[(?:.|[\n\r])*?<!\[endif\]--\x3e/gim,""),r=r.replace(/<noscript(?:.|[\n\r])*?<\/noscript>/gim,""));u=u||v?z.filter("title").text():e("<span/>").html(O(r,/<title>([^<]*?)<\/title>/i).join()).text();if(!e(a.area).length||!z.find(a.area).add(z.filter(a.area)).length)throw Error("throw: area length mismatch");d&&d.test("++",1,c,"url");!1!==n(h.url.before,null,
[b,a.parameter,r,q,p],a.callbacks.async)&&(y&&c!==a.location.href&&l.history.pushState(n(a.state,null,[b,c]),l.opera||-1!==l.navigator.userAgent.toLowerCase().indexOf("opera")?u:k.title,c),a.location.href=c,y&&a.fix.location&&(I.off(),l.history.back(),l.history.forward(),I.on()),n(h.url.after,null,[b,a.parameter,r,q,p],a.callbacks.async));d&&d.test("++",1,u,"title");!1!==n(h.title.before,null,[b,a.parameter,r,q,p],a.callbacks.async)&&(k.title=u,a.database&&a.fix.history&&N(c,u),n(h.title.after,null,
[b,a.parameter,r,q,p],a.callbacks.async));a.database&&R();d&&d.test("++",1,0,"scroll");var x=function(c){var d,m;switch(b.type.toLowerCase()){case "click":case "submit":d=c&&"function"===typeof a.scrollLeft?n(a.scrollLeft,null,[b]):a.scrollLeft;d=0<=d?d:0;d=null===d?e(l).scrollLeft():parseInt(Number(d),10);m=c&&"function"===typeof a.scrollTop?n(a.scrollTop,null,[b]):a.scrollTop;m=0<=m?m:0;m=null===m?e(l).scrollTop():parseInt(Number(m),10);e(l).scrollTop()===m&&e(l).scrollLeft()===d||l.scrollTo(d,
m);c&&a.database&&a.fix.scroll&&K(d,m);break;case "popstate":c&&a.database&&a.fix.scroll&&K()}};x(!1);d&&d.test("++",1,t,"content");if(!1!==n(h.content.before,null,[b,a.parameter,r,q,p],a.callbacks.async)){e(a.area).children("."+a.nss.class4html+"-check").remove();E=e("<div/>",{"class":a.nss.class4html+"-check",style:"background: none !important; display: block !important; visibility: hidden !important; position: absolute !important; top: 0 !important; left: 0 !important; z-index: -9999 !important; width: auto !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; font-size: 12px !important; text-indent: 0 !important;"}).text(a.gns);
for(var C=0,F;F=t[C++];)e(F).html(z.find(F).add(z.filter(F)).contents()).append(E.clone());E=e(a.area).children("."+a.nss.class4html+"-check");e(k).trigger(a.gns+".DOMContentLoaded");n(h.content.after,null,[b,a.parameter,r,q,p],a.callbacks.async)}g&&a.log.speed.name.push("content");g&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);d&&d.test("++",1,0,"cache");m||!(a.cache.click||a.cache.submit||a.cache.popstate)||"submit"===b.type.toLowerCase()&&!a.cache[b.target.method.toLowerCase()]||!1===
n(h.cache.save.before,null,[b,a.parameter,m],a.callbacks.async)||(L(c,u,w,q,p),cahce=B(c),n(h.cache.save.after,null,[b,a.parameter,m],a.callbacks.async));d&&d.test("++",1,0,"rendering");var G=function(c){!1!==n(h.rendering.before,null,[b,a.parameter],a.callbacks.async)&&function(){E.filter(function(){return this.clientWidth||e(this).is(":hidden")}).length===E.length?H(c):E.length&&setTimeout(function(){arguments.callee()},a.interval)}()},H=function(c){E.remove();c?a.load.sync&&D("[src][defer]"):(a.scroll.record=
!0,Q("popstate"===b.type.toLowerCase())||x(!0),e(l).trigger(a.gns+".load"),g&&a.log.speed.name.push("rendered"),g&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire));n(h.rendering.after,null,[b,a.parameter],a.callbacks.async)};d&&d.test("++",1,0,"css");d&&d.test("++",1,0,"script");var D=function(d){var k=a.validate?a.validate.clone({name:"jquery.pjax.js - load_script()"}):!1;k&&k.start();k&&(k.scope=function(a){return eval(a)});if(a.load.script&&!1!==n(h.script.before,null,[b,a.parameter,r,q,
p],a.callbacks.async)){var y;y=(m=B(c))&&!m.script;s=s||v?z.find("script").add(z.filter("script")).get():O(r,/(?:[^\'\"]|^\s*?)(<script[^>]*?>(?:.|[\n\r])*?<\/script>)(?:[^\'\"]|\s*?$)/gim);m&&m.script&&s&&s.length!==m.script.length&&(y=!0);y&&(m.script=s);v="object"===typeof s[0];for(var u=0,f,M,t;f=s[u];u++)f="object"===typeof f?f:e(f)[0],f="function"===typeof a.load.rewrite?t=n(a.load.rewrite,null,[f.cloneNode()])||f:f,!y||v&&!t||(m.script[u]=f),!e(f).is(d)||(M=f.src)&&M in a.log.script||(!M||
a.load.reload&&e(f).is(a.load.reload)||(a.log.script[M]=!0),f.src?e.ajax(e.extend(!0,{},a.ajax,a.load.ajax,{url:f.src,async:!!f.async,global:!1})):"object"===typeof f&&(!f.type||-1<f.type.toLowerCase().indexOf("text/javascript"))&&l.eval.call(l,(f.text||f.textContent||f.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|\-\-)/,"/*$0*/")));!1!==n(h.script.after,null,[b,a.parameter,r,q,p],a.callbacks.async)&&("[src][defer]"===d&&g&&a.log.speed.name.push("script"),"[src][defer]"===d&&g&&a.log.speed.time.push(a.speed.now()-
a.log.speed.fire),"[src][defer]"===d&&g&&console.log(a.log.speed.time),"[src][defer]"===d&&g&&console.log(a.log.speed.name))}k&&k.end()};d&&d.test("++",1,0,"verify");if(!1!==n(h.verify.before,null,[b,a.parameter],a.callbacks.async)){if(c===A(l.location.href))a.retry=!0;else if(a.retry)a.retry=!1,J(a,b,l.location.href,!1,a.cache[b.type.toLowerCase()]&&B(A(l.location.href)));else throw Error("throw: location mismatch");n(h.verify.after,null,[b,a.parameter],a.callbacks.async)}(function(){var d=a.validate?
a.validate.clone({name:"jquery.pjax.js - load_css()"}):!1;d&&d.start();d&&(d.scope=function(a){return eval(a)});if(a.load.css&&!1!==n(h.css.before,null,[b,a.parameter,r,q,p],a.callbacks.async)){var l,k=[],y=e('link[rel~="stylesheet"], style');l=(m=B(c))&&!m.css;f=f?f:v?z.find('link[rel~="stylesheet"], style').add(z.filter('link[rel~="stylesheet"], style')).get():O(r,/(<link[^>]*?rel=.[^"\']*?stylesheet[^>]*?>|<style[^>]*?>(?:.|[\n\r])*?<\/style>)/gim);m&&m.css&&f&&f.length!==m.css.length&&(l=!0);
l&&(m.css=f);v="object"===typeof f[0];var u=0,s,t,w;b:for(;s=f[u];u++){s="object"===typeof s?s:e(s)[0];s="function"===typeof a.load.rewrite?n(a.load.rewrite,null,[s.cloneNode()])||s:s;l&&!v&&(m.css[u]=s);t=s.tagName.toLowerCase();w="link"===t?s.href:s.innerHTML;for(var F=0,x;x=y[F];F++)if(t===x.tagName.toLowerCase()&&("link"===t?x.href:x.innerHTML)===w){y=y.not(x);continue b}k.push(s)}y.remove();e("head").append(k);!1!==n(h.css.after,null,[b,a.parameter,r,q,p],a.callbacks.async)&&(g&&a.log.speed.name.push("css"),
g&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}d&&d.end()})();e(k).trigger(a.gns+".ready");e(l).bind(a.gns+".rendering",function(b){e(b.target).unbind(b.type+".rendering",arguments.callee);G();D(":not([defer]), :not([src])");!a.load.sync&&D("[src][defer]");G(!0)}).trigger(a.gns+".rendering");if(!1===n(h.success,null,[b,a.parameter,r,q,p],a.callbacks.async))break a;if(!1===n(h.complete,null,[b,a.parameter,r,q,p],a.callbacks.async))break a;if(!1===n(a.callback,null,[b,a.parameter,r,q,p],
a.callbacks.async))break a;d&&d.test("++",1,0,"success")}catch(P){d&&d.test("++",!String(P.message).indexOf("throw:"),P,"catch");d&&d.test("++",!("throw: location mismatch"===P.message&&c!==l.location.href),[c,l.location.href],"!( err.message === 'throw: location mismatch' && url !== win.location.href )");m&&L(c);if(!1===n(h.error,null,[b,a.parameter,r,q,p],a.callbacks.async))break a;if(!1===n(h.complete,null,[b,a.parameter,r,q,p],a.callbacks.async))break a;d&&d.test("++",1,[c,l.location.href],"error");
if(a.fallback)return"function"===typeof a.fallback?n(a.fallback,null,[b,c]):S(b,d)}!1!==n(h.after,null,[b,a.parameter,r,q,p],a.callbacks.async)&&(g&&a.log.speed.name.push("complete"),g&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),d&&d.test("++",1,0,"end"),d&&d.end())}}}var d=a.validate?a.validate.clone({name:"jquery.pjax.js - drive()"}):!1;d&&d.start();d&&(d.scope=function(a){return eval(a)});d&&d.test("++",1,[c,b.type],"drive()");var u=a.speedcheck;u&&(a.log.speed.fire=a.timestamp);u&&
(a.log.speed.time=[]);u&&(a.log.speed.name=[]);u&&a.log.speed.name.push("fire");u&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);d&&d.test("++",1,0,"start");a.scroll.record=!1;a.fix.reset&&/click|submit/.test(b.type.toLowerCase())&&k.scrollTo(e(k).scrollLeft(),0);if(!1!==n(a.callbacks.before,null,[b,a.parameter],a.callbacks.async))if(g)d&&d.test("++",1,0,"update"),e.when?e.when(T(a.wait)).done(function(){h(a,b,g)}):h(a,b,g),d&&d.test("++",1,0,"end"),d&&d.end();else{d&&d.test("++",1,0,"initialize");
var l,f,r,p,q,s,w;l={};switch(b.type.toLowerCase()){case "click":d&&d.test("++",1,0,"event click");l.type="GET";break;case "submit":d&&d.test("++",1,b.target.method,"event submit");l.type=b.target.method.toUpperCase();"POST"===l.type&&(l.data=e(b.target).serializeArray());break;case "popstate":d&&d.test("++",1,0,"event popstate"),l.type="GET"}f=e.when?e.Deferred():null;d&&d.test("++",1,0,"setting");e.extend(!0,l,a.ajax,{xhr:a.callbacks.ajax.xhr?function(){p=n(a.callbacks.ajax.xhr,null,[b,a.parameter],
a.callbacks.async);return p="object"===typeof p&&p||e.ajaxSettings.xhr()}:v,beforeSend:function(c,d){p=c;a.xhr&&4>a.xhr.readyState&&a.xhr.abort();a.xhr=p;p.setRequestHeader(a.nss.requestHeader,"true");p.setRequestHeader(a.nss.requestHeader+"-Area",a.area);p.setRequestHeader(a.nss.requestHeader+"-CSS",a.load.css);p.setRequestHeader(a.nss.requestHeader+"-Script",a.load.script);n(a.callbacks.ajax.beforeSend,null,[b,a.parameter,p,d],a.callbacks.async)},dataFilter:a.callbacks.ajax.dataFilter?function(c,
d){r=c;return n(a.callbacks.ajax.dataFilter,null,[b,a.parameter,r,d],a.callbacks.async)||r}:v,success:function(e,g,h){r=e;q=g;p=h;(d=a.validate?a.validate.clone({name:"jquery.pjax.js - $.ajax()"}):!1)&&d.start();d&&d.test("++","success"===q,[c,a.location.href,p,q],"ajax success");n(a.callbacks.ajax.success,null,[b,a.parameter,r,q,p],a.callbacks.async)},error:function(e,g,h){p=e;q=g;s=h;(d=a.validate?a.validate.clone({name:"jquery.pjax.js - $.ajax()"}):!1)&&d.start();d&&d.test("++","abort"===q,[c,
a.location.href,p,q,s],"ajax error");n(a.callbacks.ajax.error,null,[b,a.parameter,p,q,s],a.callbacks.async)},complete:function(e,g){p=e;q=g;d&&d.test("++",1,0,"ajax complete");n(a.callbacks.ajax.complete,null,[b,a.parameter,p,q],a.callbacks.async);if(s){if(f&&f.reject(),a.fallback&&"abort"!==q)return"function"===typeof a.fallback?n(a.fallback,null,[b,c]):S(b,d)}else f&&f.resolve()||h(a,b);d&&d.end()}});l.url=c.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(a.server.query?(c.match(/\?/)?"&":"?")+encodeURIComponent(a.server.query)+
"=1":"")+"$2");d&&d.test("++",1,0,"ajax");u&&a.log.speed.name.push("request");u&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);e.when&&e.when(f.promise(),T(a.wait)).done(function(){h(a,b)});e.ajax(l);!1!==n(a.callbacks.after,null,[b,a.parameter],a.callbacks.async)&&(d&&d.test("++",1,0,"end"),d&&d.end())}}function A(a){a=String(a).replace(/^\s+/,"");for(var b=a.length;0<--b;)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}a=/^https?:/i.test(a)?a:"";a=a.replace(/[<>"{}|\\^\[\]`\s].*/,
"");return encodeURI(decodeURI(a))}function n(a,b,c,e){return"function"===typeof a?e?setTimeout(function(){a.apply(b,c)},0):a.apply(b,c):a}function Q(a){var m=b.destination.hash.slice(1);return!(a||!m)&&e("#"+(m?m:", [name~="+m+"]")).first().each(function(){isFinite(e(this).offset().top)&&k.scrollTo(e(k).scrollLeft(),parseInt(Number(e(this).offset().top),10))}).length}function T(a){var b=e.Deferred();if(!a)return b.resolve();setTimeout(function(){b.resolve()},a);return b.promise()}function S(a,b){b&&
b.test("++",1,0,"fallback()");b&&b.end();"click"===a.type.toLowerCase()?k.location.href=a.currentTarget.href:"submit"===a.type.toLowerCase()?a.target.submit():"popstate"===a.type.toLowerCase()&&k.location.reload()}function O(a,b){var c=[];a.replace(b,function(a,b){c.push(b)});return c}function D(a,b){var c,e,g,h,d,f,l,k,r,p,q,s;c=a.scope;g=a.location.pathname+a.location.search+a.location.hash;h=a.destination.pathname+a.destination.search+a.destination.hash;"/"!==a.location.pathname.charAt(0)&&(g=
"/"+g,h="/"+h);if(g===h)return!0;e=g.replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");f=(b||g).replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");if(b){if(-1===b.indexOf("*"))return v;d=[];for(var t=f.length;t--;)"*"===f[t]&&d.unshift(e[t])}for(t=f.length+1;t--;)if(p=q=s=!1,e=f.slice(0,t).join("/").replace(/\/([?#])/g,"$1"),(e="/"+e+("/"===(b||g).charAt(e.length+1)?"/":""))&&e in c){if(!c[e]||!c[e].length)return!1;for(var x=0;l=c[e][x];x++)if(b||"rewrite"!==l||"function"!==typeof c.rewrite)if("inherit"===
l)p=!0;else{l=(k="^"===l.charAt(0))?l.slice(1):l;l=(r="*"===l.charAt(0))?l.slice(1):l;if(b&&-1!==l.indexOf("/*/"))for(var w=0,A=d.length;w<A;w++)l=l.replace("/*/","/"+d[w]+"/");if(!(!k&&q||(r?g.search(l):g.indexOf(l)))){if(k)return!1;q=!0}if(!(!k&&s||(r?h.search(l):h.indexOf(l)))){if(k)return!1;s=!0}}else if(l=D(a,n(c.rewrite,null,[a.destination.href])))q=s=!0;else if(!1===l)return!1;if(q&&s)return!0;if(!p)return v}}function L(a,e,c,f,g){var h=b.history;b.hashquery||(a=a.replace(/#.*/,""));switch(!0){case 1===
arguments.length:for(var d=0,k;k=h.order[d];d++)a===k&&(h.order.splice(d,1),h.size-=h.data[k].size,h.data[k]=null,delete h.data[k]);break;case "object"===typeof g:h.order.unshift(a);for(d=1;k=h.order[d];d++)a===k&&h.order.splice(d,1);if(h.data[a])break;if(h.size>h.config.size){d=b.history;k=d.order.length;for(var l;l=d.order[--k];)if(k>=d.config.length||b.timestamp>d.data[l].timestamp+d.config.expire)d.order.splice(k,1),d.size-=d.data[l].size,delete d.data[l]}c=parseInt(c||1.8*g.responseText.length,
10);h.size=h.size||0;h.size+=c;h.data[a]={XMLHttpRequest:g,textStatus:f,title:e,size:c,timestamp:(new Date).getTime()};break;default:return!1}return!0}function B(a){var e=b.history;b.hashquery||(a=a.replace(/#.*/,""));e.data[a]&&b.timestamp>e.data[a].timestamp+e.config.expire&&L(a);return e.data[a]}function W(){var a=b.database,e=b.gns,c,f=Math.floor(b.timestamp/864E5);if(!a||!e)return!1;a=a.open(e,f-f%7+3);a.onupgradeneeded=function(){for(var a=this.result,b=0,d=a.objectStoreNames.length;b<d;b++)a.deleteObjectStore(a.objectStoreNames[b]);
c=a.createObjectStore(e,{keyPath:"id",autoIncrement:!1});c.createIndex("date","date",{unique:!1})};a.onsuccess=function(){b.database=this.result;R();N(b.location.href,x.title)};a.onerror=function(){b.database=!1}}function R(){var a="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);a&&a.put({id:"current",title:b.hashquery?k.location.href:k.location.href.replace(/#.*/,"")})}function N(a,m){var c="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);
c&&(b.hashquery||(a=a.replace(/#.*/,"")),m?c.get(a).onsuccess=function(){c.put(e.extend(!0,{},this.result||{},{id:a,title:m,date:b.timestamp}));X(c)}:c.get(a).onsuccess=function(){this.result&&this.result.title&&(x.title=this.result.title)})}function K(a,m){var c="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns),f=b.location.href,g=x.title,h=arguments.length;b.scroll.record&&c&&(b.hashquery||(f=f.replace(/#.*/,"")),c.get("current").onsuccess=function(){this.result&&
this.result.title&&f===this.result.title&&(h?c.get(f).onsuccess=function(){c.put(e.extend(!0,{},this.result||{},{title:g,scrollX:parseInt(Number(a),10),scrollY:parseInt(Number(m),10)}))}:c.get(f).onsuccess=function(){this.result&&isFinite(this.result.scrollX)&&isFinite(this.result.scrollY)&&k.scrollTo(parseInt(Number(this.result.scrollX),10),parseInt(Number(this.result.scrollY),10))})})}function X(a){var e=k.IDBKeyRange||k.webkitIDBKeyRange||k.mozIDBKeyRange||k.msIDBKeyRange;a.count().onsuccess=function(){1E3<
this.result&&(a.index("date").openCursor(e.upperBound(b.timestamp-2592E5)).onsuccess=function(){var b=this.result;b?(b["delete"](b.value.id),b["continue"]()):a.count().onsuccess=function(){1E3<this.result&&a.clear()}})}}function U(a,b,c){var f;switch(!0){case b===v:f=e.falsandtru[a];break;case c===v:f=a in e.falsandtru?e.falsandtru[a][b]:v;break;case c!==v:e.falsandtru[a]instanceof Object||(e.falsandtru[a]={}),e.falsandtru[a][b]instanceof Object&&c instanceof Object?e.extend(!0,e.falsandtru[a][b],
c):e.falsandtru[a][b]=c,f=e.falsandtru[a][b]}return f}if("function"===typeof this)return arguments.callee.apply(e(x),arguments);var f=window.validator instanceof Object?window.validator:!1;(f=f?validator.clone({name:"jquery.pjax.js",base:!0,timeout:{limit:t&&t.ajax&&t.ajax.timeout?t.ajax.timeout+f.timeout.limit:f.timeout.limit}}):!1)&&f.start();f&&f.test("++",1,t,"pjax()");f&&f.test("++",1,0,"initialize");var b=e.extend(!0,{},{id:0,gns:"pjax",ns:null,area:null,link:'a:not([target])[href^="/"]',form:null,
scope:null,state:null,scrollTop:0,scrollLeft:0,ajax:{},contentType:"text/html",cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,length:9,size:1048576,expire:18E5},callback:function(){},callbacks:{ajax:{},update:{url:{},title:{},content:{},css:{},script:{},cache:{load:{},save:{}},rendering:{},verify:{}},async:!1},parameter:null,load:{css:!1,script:!1,execute:!0,reload:"",sync:!0,ajax:{dataType:"script"},rewrite:null},interval:300,wait:0,scroll:{delay:500,suspend:-100},fix:{location:!0,history:!0,
scroll:!0,reset:!1},hashquery:!1,fallback:!0,database:!0,server:{},speedcheck:!1},t),w=[b.gns];f&&f.test("++",1,b,"overwrite");e.extend(!0,b,{nss:{pjax:w.join("."),click:["click"].concat(w.join(":")).join("."),submit:["submit"].concat(w.join(":")).join("."),popstate:["popstate"].concat(w.join(":")).join("."),scroll:["scroll"].concat(w.join(":")).join("."),data:w.join(":"),class4html:w.join("-"),requestHeader:["X",w[0].replace(/^\w/,function(a){return a.toUpperCase()})].join("-"),array:w},location:e("<a/>",
{href:A(k.location.href)})[0],destination:e("<a/>")[0],hashclick:!1,fix:/Mobile(\/\w+)? Safari/i.test(k.navigator.userAgent)?{}:{location:!1,reset:!1},contentType:b.contentType.replace(/\s*[,;]\s*/g,"|").toLowerCase(),scroll:{record:!0,queue:[]},database:b.database?k.indexedDB||k.webkitIndexedDB||k.mozIndexedDB||k.msIndexedDB||null:!1,server:{query:b.server.query?b.server.query:b.gns},log:{script:{},speed:{}},history:{config:b.cache,order:[],data:{},size:0},timestamp:(new Date).getTime(),disable:!1,
landing:A(k.location.href),retry:!0,xhr:null,speed:{now:function(){return(new Date).getTime()}},options:t,validate:f});b.id=1;C[b.id]=b;H=G=void 0;I={on:function(){b.disable=!1},off:function(){b.disable=!0},click:function(a,b){b=b||{};return(b.href=a)?e("<a/>",b).one("click",1,G).click():!1},submit:function(a,b,c){var f=x.createDocumentFragment(),g;switch(!0){case "object"===typeof a:b=e(a);break;case !!c:b=b||{};b.action=a;a=c instanceof Array&&Array||c instanceof Object&&Object||v;for(var h in c){g=
c[h];switch(a){case Object:g=e("<textarea/>",{name:h}).val(g);break;case Array:g.attr=g.attr||{};g.attr.name=g.name;g=e(g.tag.indexOf("<")?"<"+g.tag+"/>":g.tag,g.attr||{}).val(g.value);break;default:continue}f.appendChild(g[0])}b=e("<form/>",b).append(f);break;default:return!1}b.one("submit",1,H).submit();return!0},setCache:L,getCache:B,clearCache:function(){for(var a=b.history,e=a.order.length,c;c=a.order[--e];)a.order.splice(e,1),a.size-=a.data[c].size,delete a.data[c];return!0}};e.extend(!0,e.pjax,
I);f&&f.test("++",1,0,"register");"pushState"in k.history&&k.history.pushState&&b.area&&(b.link||b.form)&&(e.falsandtru||(e.fn.falsandtru=U,e.falsandtru=U),e.falsandtru("share","history",b.history),b.history=e.falsandtru("share","history"),V(this));f&&f.end();return I}})(jQuery);
