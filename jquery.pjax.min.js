/*
 * 
 * pjax
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT  http://opensource.org/licenses/mit-license.php  http://sourceforge.jp/projects/opensource/wiki/licenses%2FMIT_license
 * @version 1.21.2
 * @updated 2013/10/24
 * @author falsandtru https://github.com/falsandtru/
 * @Compressor Closure Compiler
 */
(function(c){var A,y,f=window,w=document,x=void 0,C;c.fn.pjax=c.pjax=function(s){function P(a){Q();c("script[src]").each(function(){this.src in b.log.script||(b.log.script[this.src]=!0)});b.link&&c(a).undelegate(b.link,b.nss.click).delegate(b.link,b.nss.click,b.id,A=function(a){a.timeStamp=(new Date).getTime();if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)&&f.location.protocol===this.protocol&&f.location.host===this.host){var d,p;if(b.location.href===this.href)return!1;if(!g(b.hashquery,
null,[a,d])&&b.location.pathname+b.location.search===this.pathname+this.search)return b.hashclick=!0;d=this.href;b.area=g(b.options.area,null,[a,d]);b.hashclick=!1;b.timestamp=a.timeStamp;b.landing&&(b.landing=!1);if(!b.disable&&c(b.area).length&&(!b.scope||B(b.scope,f.location.href,d)))return b.cache[a.type.toLowerCase()]&&(p=u(d)),D(b,a,d,!0,p),!1}});b.form&&c(a).undelegate(b.form,b.nss.submit).delegate(b.form,b.nss.submit,b.id,y=function(a){a.timeStamp=(new Date).getTime();if(!(1<a.which||a.metaKey||
a.ctrlKey||a.shiftKey||a.altKey)){var d,p;d=this.action+("GET"===a.target.method.toUpperCase()?"?"+c(a.target).serialize():"");b.area=g(b.options.area,null,[a,d]);b.hashclick=!1;b.timestamp=a.timeStamp;b.landing&&(b.landing=!1);if(!b.disable&&c(b.area).length&&(!b.scope||B(b.scope,f.location.href,d)))return b.cache[a.type.toLowerCase()]&&b.cache[a.target.method.toLowerCase()]&&(p=u(d)),D(b,a,d,!0,p),!1}});c(f).unbind(b.nss.popstate).bind(b.nss.popstate,b.id,function(a){a.timeStamp=(new Date).getTime();
var d,p;if(b.location.href===this.href)return!1;if(!g(b.hashquery,null,[a,d])&&b.location.pathname+b.location.search===f.location.pathname+f.location.search)return b.hashclick=b.hashclick&&!!J()&&!1;d=f.location.href;b.area=g(b.options.area,null,[a,d]);b.hashclick=!1;b.timestamp=a.timeStamp;if(b.landing){if(b.landing===f.location.href){b.landing=!1;return}b.landing=!1}if(!b.disable&&c(b.area).length)return b.database&&b.fix.history&&G(d),b.cache[a.type.toLowerCase()]&&(p=u(d)),D(b,a,d,!1,p),!1});
b.database&&b.fix.scroll&&c(f).unbind(b.nss.scroll).bind(b.nss.scroll,b.id,function(a,d){var p,g=arguments.callee;if(b.scroll.delay){for(;p=b.scroll.queue.shift();)clearTimeout(p);p=setTimeout(function(){for(;p=b.scroll.queue.shift();)clearTimeout(p);H(c(f).scrollLeft(),c(f).scrollTop())},b.scroll.delay);b.scroll.queue.push(p)}else H(c(f).scrollLeft(),c(f).scrollTop());b.scroll.suspend&&!d&&(c(this).unbind(b.nss.scroll),setTimeout(function(){b.database&&b.fix.scroll&&c(f).bind(b.nss.scroll,b.id,g).trigger(b.nss.scroll,
[!0])},b.scroll.suspend))})}function D(a,b,d,p,v){function h(e){var k=a.validate?a.validate.clone({name:"jquery.pjax.js - update()"}):!1;k&&k.start();k&&(k.scope=function(a){return eval(a)});k&&k.test("1",1,0,"update()");k&&k.test("++",1,0,"start");a:if(a.speedcheck&&a.log.speed.name.push("update"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),!1!==g(a.callbacks.update.before,null,[b,a.parameter,q,m,l],a.callbacks.async)){var h=window,v=document,f,n,r;try{k&&k.test("++",1,0,
"try");k&&k.test("++",1,e?0:[a.contentType,l.getResponseHeader("Content-Type")],"content-type");if(!e&&!RegExp(a.contentType.replace(/\s*[,;]\s*(.|$)/g,function(a,b){return b?"|"+b:""}),"i").test(l.getResponseHeader("Content-Type")))throw Error("throw: content-type mismatch");k&&k.test("++",e?"'usable'":"'unusable'",0,"cache");e&&!1!==g(a.callbacks.update.cache.load.before,null,[b,a.parameter,e],a.callbacks.async)&&(l=e.XMLHttpRequest,q=l.responseText,m=e.textStatus,f=e.title,n=e.css,r=e.script,g(a.callbacks.update.cache.load.after,
null,[b,a.parameter,e],a.callbacks.async));k&&k.test("++",1,0,"initialize");var z=c(q),s=0<z.filter("title").length,N=a.area.replace(/(\((.*?(\(.*?\).*?)?)*?\)|\S)(,|$)/g,function(a,b,c,d,e){return b+(e?"|":"")}).split(/\s*\|(?!=)\s*/);f=f?f:s?z.filter("title").text():c("<span/>").html(I(q,"<title>([^<]*)</title>").join()).text();if(!c(a.area).length||!z.find(a.area).add(z.filter(a.area)).length)throw Error("throw: area length mismatch");k&&k.test("++",1,d,"url");if(!1!==g(a.callbacks.update.url.before,
null,[b,a.parameter,q,m,l],a.callbacks.async)){p&&d!==h.location.href&&h.history.pushState(g(a.state,null,[b,d]),h.opera||-1!==h.navigator.userAgent.toLowerCase().indexOf("opera")?f:v.title,d);a.location.href=d;switch(!0){case a.fix.location&&/Mobile(\/\w+)? Safari/i.test(h.navigator.userAgent):C.off(),h.history.back(),h.history.forward(),C.on()}g(a.callbacks.update.url.after,null,[b,a.parameter,q,m,l],a.callbacks.async)}k&&k.test("++",1,f,"title");!1!==g(a.callbacks.update.title.before,null,[b,a.parameter,
q,m,l],a.callbacks.async)&&(v.title=f,a.database&&a.fix.history&&G(d,f),g(a.callbacks.update.title.after,null,[b,a.parameter,q,m,l],a.callbacks.async));a.database&&K();k&&k.test("++",1,0,"scroll");var w=function(d){var e;switch(b.type.toLowerCase()){case "click":case "submit":e=d&&"function"===typeof a.scrollLeft?g(a.scrollLeft,null,[b]):a.scrollLeft;e=0<=e?e:0;e=null===e?c(h).scrollLeft():parseInt(Number(e));d=d&&"function"===typeof a.scrollTop?g(a.scrollTop,null,[b]):a.scrollTop;d=0<=d?d:0;d=null===
d?c(h).scrollTop():parseInt(Number(d));c(h).scrollTop()===d&&c(h).scrollLeft()===e||h.scrollTo(e,d);break;case "popstate":a.database&&a.fix.scroll&&H()}};w(!1);k&&k.test("++",1,N,"content");if(!1!==g(a.callbacks.update.content.before,null,[b,a.parameter,q,m,l],a.callbacks.async)){c(a.area).children("."+a.nss.class4html+"-check").remove();for(var v=0,E;E=N[v];v++)c(E).html(z.find(E).add(z.filter(E)).contents()).append(c("<div/>",{"class":a.nss.class4html+"-check",style:"display: block !important; visibility: hidden !important; width: auto !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; position: absolute !important; top: -9999px !important; left: -9999px !important; font-size: 12px !important; text-indent: 0 !important;"}).text("pjax"));
c(document).trigger(a.gns+".DOMContentLoaded");g(a.callbacks.update.content.after,null,[b,a.parameter,q,m,l],a.callbacks.async)}k&&k.test("++",1,0,"css");var A=function(){var k=a.validate?a.validate.clone({name:"jquery.pjax.js - load_css()"}):!1;k&&k.start();k&&(k.scope=function(a){return eval(a)});if(!1!==g(a.callbacks.update.css.before,null,[b,a.parameter,q,m,l],a.callbacks.async)){n=n?n:s?z.find('link[rel~="stylesheet"], style').add(z.filter('link[rel~="stylesheet"], style')):I(q,"(<link[^>]*?rel=.[^\"']*stylesheet[^>]*>|<style[^>]*>(.|[\n\r])*?</style>)");
if(e?!e.css:u(d))(e||u(d)||{}).css=n;c('link[rel~="stylesheet"], style').filter(function(){return c.data(this,a.nss.data,!0)});for(var h=0,f,v=c('link[rel~="stylesheet"]'),p=c("style"),r;f=n[h];h++){r=!1;f=s?f:c(f)[0];switch(f.tagName.toLowerCase()){case "link":if(v.filter(function(){if(r||this.href!==f.href)return!1;r=!0;c.removeData(this,a.nss.data);return!0}).length)continue;break;case "style":if(p.filter(function(){if(r||!c.data(this,a.nss.data)||this.innerHTML!==f.innerHTML)return!1;r=!0;c.removeData(this,
a.nss.data);return!0}).length)continue}c("head").append(f);f=null}c('link[rel~="stylesheet"], style').filter(function(){return c.data(this,a.nss.data)}).remove();c(document).trigger(a.gns+".ready");!1!==g(a.callbacks.update.css.after,null,[b,a.parameter,q,m,l],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("css"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}k&&k.end()};a.load.css&&setTimeout(function(){A()},a.load.async||0);!a.load.css&&c(document).trigger(a.gns+
".ready");k&&k.test("++",1,0,"script");var y=function(k){var h=a.validate?a.validate.clone({name:"jquery.pjax.js - load_script()"}):!1;h&&h.start();h&&(h.scope=function(a){return eval(a)});if(!1!==g(a.callbacks.update.script.before,null,[b,a.parameter,q,m,l],a.callbacks.async)){var f=[];r=r?r:s?z.find("script").add(z.filter("script")):I(q,"(?:[^'\"]|^s*)(<script[^>]*>(.|[\n\r])*?\x3c/script>)(?:[^'\"]|s*$)");if(e?!e.script:u(d))(e||u(d)||{}).script=r;for(var v=0,p,n;p=r[v];v++)if(p=s?p:c(p)[0],"sync"!==
k||p.defer)"async"===k&&p.defer||!p.childNodes.length&&p.src in a.log.script||(p.src&&(a.log.script[p.src]=!0),c.when?(n=c.Deferred(),p.src?c.ajax(c.extend(!0,{},a.ajax,{url:p.src,textStatus:"script",async:!1,global:!1,complete:n.resolve})):n.resolve(a.load.execute?p:x),f.push(n)):c("head").append(p),p=null);c.when&&f.length&&c.when.apply(null,f).always(function(){for(var a=0,b;b=arguments[a];a++)0<Number(b.nodeType)&&(!b.type||-1<b.type.toLowerCase().indexOf("text/javascript"))&&eval((b.text||b.textContent||
b.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|\-\-)/,"/*$0*/"))});!1!==g(a.callbacks.update.script.after,null,[b,a.parameter,q,m,l],a.callbacks.async)&&(a.speedcheck&&"async"===k&&a.log.speed.name.push("script"),a.speedcheck&&"async"===k&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}h&&h.end()};a.load.script&&setTimeout(function(){y("async")},a.load.async||0);a.load.script&&!a.load.sync&&setTimeout(function(){y("sync")},a.load.async||0);k&&k.test("++",1,0,"rendering");setTimeout(function(){var d=
c(a.area).children("."+a.nss.class4html+"-check");d.filter(function(){return this.clientWidth||c(this).is(":hidden")}).length===d.length?!1!==g(a.callbacks.update.rendering.before,null,[b,a.parameter],a.callbacks.async)&&(d.remove(),a.load.script&&a.load.sync&&setTimeout(function(){y("sync")},a.load.async||0),J("popstate"===b.type.toLowerCase())||w(!0),c(window).trigger(a.gns+".load"),!1!==g(a.callbacks.update.rendering.after,null,[b,a.parameter],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("rendering"),
a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),a.speedcheck&&console.log(a.log.speed.time),a.speedcheck&&console.log(a.log.speed.name))):d.length&&setTimeout(function(){arguments.callee()},a.interval)},0);k&&k.test("++",1,0,"cache");e||!(a.cache.click||a.cache.submit||a.cache.popstate)||"submit"===b.type.toLowerCase()&&!a.cache[b.target.method.toLowerCase()]||!1===g(a.callbacks.update.cache.save.before,null,[b,a.parameter,e],a.callbacks.async)||(F(d,f,t,m,l),g(a.callbacks.update.cache.save.after,
null,[b,a.parameter,e],a.callbacks.async));k&&k.test("++",1,0,"verify");if(!1!==g(a.callbacks.update.verify.before,null,[b,a.parameter],a.callbacks.async)){if(d===h.location.href)a.retry=!0;else if(a.retry)a.retry=!1,D(a,b,h.location.href,!1,a.cache[b.type.toLowerCase()]&&u(h.location.href));else throw Error("throw: location mismatch");g(a.callbacks.update.verify.after,null,[b,a.parameter],a.callbacks.async)}if(!1===g(a.callbacks.update.success,null,[b,a.parameter,q,m,l],a.callbacks.async))break a;
if(!1===g(a.callbacks.update.complete,null,[b,a.parameter,q,m,l],a.callbacks.async))break a;if(!1===g(a.callback,null,[b,a.parameter,q,m,l],a.callbacks.async))break a;k&&k.test("++",1,0,"success")}catch(B){k&&k.test("++",!String(B.message).indexOf("throw:"),B,"catch");k&&k.test("++",!("throw: location mismatch"===B.message&&d!==h.location.href),[d,h.location.href],"!( err.message === 'throw: location mismatch' && url !== win.location.href )");e&&F(d);if(!1===g(a.callbacks.update.error,null,[b,a.parameter,
q,m,l],a.callbacks.async))break a;if(!1===g(a.callbacks.update.complete,null,[b,a.parameter,q,m,l],a.callbacks.async))break a;k&&k.test("++",1,[d,h.location.href],"error");if(a.fallback)return"function"===typeof a.fallback?g(a.fallback,null,[b,d]):L(b,k)}!1!==g(a.callbacks.update.after,null,[b,a.parameter,q,m,l],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("ready"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),k&&k.test("++",1,0,"end"),k&&k.end())}}var e=a.validate?
a.validate.clone({name:"jquery.pjax.js - drive()"}):!1;e&&e.start();e&&(e.scope=function(a){return eval(a)});e&&e.test("++",1,[d,b.type],"drive()");a.speedcheck&&(a.log.speed.fire=a.timestamp);a.speedcheck&&(a.log.speed.time=[]);a.speedcheck&&(a.log.speed.name=[]);a.speedcheck&&a.log.speed.name.push("fire");a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);e&&e.test("++",1,0,"start");if(!1!==g(a.callbacks.before,null,[b,a.parameter],a.callbacks.async))if(v)e&&e.test("++",1,0,"update"),
c.when?c.when(M(a.wait)).done(function(){h(v)}):h(v),e&&e.test("++",1,0,"end"),e&&e.end();else{e&&e.test("++",1,0,"initialize");var q,l,m,n,t,r={};switch(b.type.toLowerCase()){case "click":e&&e.test("++",1,0,"event click");r.type="GET";break;case "submit":e&&e.test("++",1,b.target.method,"event submit");r.type=b.target.method.toUpperCase();"POST"===r.type&&(r.data=c(b.target).serializeArray());break;case "popstate":e&&e.test("++",1,0,"event popstate"),r.type="GET"}e&&e.test("++",1,0,"setting");c.extend(!0,
r,a.ajax,{xhr:a.callbacks.ajax.xhr?function(){l=g(a.callbacks.ajax.xhr,null,[b,a.parameter],a.callbacks.async);return l=l instanceof Object&&l instanceof f.XMLHttpRequest?l:l||c.ajaxSettings.xhr()}:x,beforeSend:function(d,e){l=d;a.xhr&&4>a.xhr.readyState&&a.xhr.abort();a.xhr=l;l.setRequestHeader(a.nss.requestHeader,"true");l.setRequestHeader(a.nss.requestHeader+"-Area",a.area);l.setRequestHeader(a.nss.requestHeader+"-CSS",a.load.css);l.setRequestHeader(a.nss.requestHeader+"-Script",a.load.script);
g(a.callbacks.ajax.beforeSend,null,[b,a.parameter,l,e],a.callbacks.async)},dataFilter:a.callbacks.ajax.dataFilter?function(d,e){q=d;return g(a.callbacks.ajax.dataFilter,null,[b,a.parameter,q,e],a.callbacks.async)||q}:x,success:function(d,e,f){q=d;m=e;l=f;g(a.callbacks.ajax.success,null,[b,a.parameter,q,m,l],a.callbacks.async);!c.when&&h()},error:function(e,c,h){l=e;m=c;n=h;(e=a.validate?a.validate.clone({name:"jquery.pjax.js - drive()"}):!1)&&e.start();e&&e.test("++",1,[d,f.location.href,l,m,n],"ajax error");
g(a.callbacks.ajax.error,null,[b,a.parameter,l,m,n],a.callbacks.async);if(a.fallback&&"abort"!==m)return"function"===typeof a.fallback?g(a.fallback,null,[b,d]):L(b,e);e&&e.end()},complete:a.callbacks.ajax.complete?function(d,e){l=d;m=e;g(a.callbacks.ajax.complete,null,[b,a.parameter,l,m],a.callbacks.async)}:x});r.url=d.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(a.server.query?(d.match(/\?/)?"&":"?")+encodeURIComponent(a.server.query)+"=1":"")+"$2");e&&e.test("++",1,0,"ajax");a.speedcheck&&a.log.speed.name.push("request");
a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);c.when?c.when(c.ajax(r),M(a.wait)).done(function(){h()}).fail().always():c.ajax(r);!1!==g(a.callbacks.after,null,[b,a.parameter],a.callbacks.async)&&(e&&e.test("++",1,0,"end"),e&&e.end())}}function g(a,b,d,c){return"function"===typeof a?c?setTimeout(function(){a.apply(b,d)},0):a.apply(b,d):a}function J(a){return!a&&c(f.location.hash+", [name="+f.location.hash+"]").first().each(function(){isFinite(c(this).offset().top)&&f.scrollTo(c(f).scrollLeft(),
parseInt(Number(c(this).offset().top)))}).length}function M(a){var b=c.Deferred();if(!a)return b.resolve();setTimeout(function(){b.resolve()},a);return b.promise()}function L(a,b){b&&b.test("++",1,0,"fallback()");b&&b.end();"click"===a.type.toLowerCase()?f.location.href=a.currentTarget.href:"submit"===a.type.toLowerCase()?a.target.submit():"popstate"===a.type.toLowerCase()&&f.location.reload()}function I(a,b){var d=[];a.replace(RegExp(b,"gim"),function(a,b){d.push(b)});return d}function B(a,b,d,c){var f,
h,e,g,l,m,n,s,r,t,k;e=f=document.createElement("a");e.href=b;e=e.pathname+e.search+e.hash;f.href=d;f=f.pathname+f.search+f.hash;if(f===e)return!0;h=e.replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");l=(c||e).replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");if(c){if(-1===c.indexOf("*"))return x;g=[];for(var u=l.length;u--;)"*"===l[u]&&g.unshift(h[u])}for(u=l.length+1;u--;)if(r=t=k=!1,h=l.slice(0,u).join("/").replace(/\/([?#])/g,"$1"),(h="/"+h+("/"===(c||e).charAt(h.length+1)?"/":""))&&h in
a){if(!a[h]||!a[h].length)return!1;for(var y=0;m=a[h][y];y++)if(c||"rewrite"!==m||"function"!==typeof a.rewrite)if("inherit"===m)r=!0;else{m=(n="^"===m.charAt(0))?m.slice(1):m;m=(s="*"===m.charAt(0))?m.slice(1):m;if(c&&-1!==m.indexOf("/*/"))for(var w=0,A=g.length;w<A;w++)m=m.replace("/*/","/"+g[w]+"/");if(!(!n&&t||(s?e.search(m):e.indexOf(m)))){if(n)return!1;t=!0}if(!(!n&&k||(s?f.search(m):f.indexOf(m)))){if(n)return!1;k=!0}}else if(m=B(a,b,d,a.rewrite.apply(null,[d])))t=k=!0;else if(!1===m)return!1;
if(t&&k)return!0;if(!r)return x}}function F(a,c,d,f,g){var h=b.history;a=b.hashquery?a:a.replace(/#.*/,"");switch(!0){case 1===arguments.length:for(var e=0,q;q=h.order[e];e++)a===q&&(h.order.splice(e,1),h.size-=h.data[q].size,h.data[q]=null,delete h.data[q]);break;case g instanceof Object:h.order.unshift(a);for(e=1;q=h.order[e];e++)a===q&&h.order.splice(e,1);if(h.data[a])break;if(h.size>h.config.size){e=b.history;q=e.order.length;for(var l;l=e.order[--q];)if(q>=e.config.length||b.timestamp>e.data[l].timestamp+
e.config.expire)e.order.splice(q,1),e.size-=e.data[l].size,delete e.data[l]}d=parseInt(d||1.8*g.responseText.length);h.size=h.size||0;h.size+=d;h.data[a]={XMLHttpRequest:g,textStatus:f,title:c,size:d,timestamp:(new Date).getTime()};break;default:return!1}return!0}function u(a){var c=b.history;a=b.hashquery?a:a.replace(/#.*/,"");c.data[a]&&b.timestamp>c.data[a].timestamp+c.config.expire&&F(a);return c.data[a]}function Q(){var a=b.database,c=b.gns,d,g=Math.floor(b.timestamp/864E5);if(!a||!c)return!1;
a=a.open(c,g-g%7+2);a.onupgradeneeded=function(){for(var a=this.result,b=0,e=a.objectStoreNames.length;b<e;b++)a.deleteObjectStore(a.objectStoreNames[b]);d=a.createObjectStore(c,{keyPath:"id",autoIncrement:!1});d.createIndex("date","date",{unique:!1})};a.onsuccess=function(){b.database=this.result;K();G(f.location.href,w.title)};a.onerror=function(){b.database=!1}}function K(){var a="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);a&&a.put({id:"current",title:f.location.href})}
function G(a,f){var d="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);d&&(f?d.get(a).onsuccess=function(){d.put(c.extend(!0,{},this.result||{},{id:a,title:f,date:b.timestamp}));R(d)}:d.get(a).onsuccess=function(){this.result&&this.result.title&&(w.title=this.result.title)})}function H(a,g){var d="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns),p=f.location.href,n=w.title,h=arguments.length;d&&(d.get("current").onsuccess=
function(){this.result&&this.result.title&&p===this.result.title&&(h?d.get(p).onsuccess=function(){d.put(c.extend(!0,{},this.result||{},{title:n,scrollX:parseInt(Number(a)),scrollY:parseInt(Number(g))}))}:d.get(p).onsuccess=function(){this.result&&isFinite(this.result.scrollX)&&isFinite(this.result.scrollY)&&f.scrollTo(parseInt(Number(this.result.scrollX)),parseInt(Number(this.result.scrollY)))})})}function R(a){var c=f.IDBKeyRange||f.webkitIDBKeyRange||f.mozIDBKeyRange||f.msIDBKeyRange;a.count().onsuccess=
function(){1E3<this.result&&(a.index("date").openCursor(c.upperBound(b.timestamp-2592E5)).onsuccess=function(){var b=this.result;b?(b["delete"](b.value.id),b["continue"]()):a.count().onsuccess=function(){1E3<this.result&&a.clear()}})}}function O(a,b,d){var f;switch(!0){case b===x:f=c.falsandtru[a];break;case d===x:f=a in c.falsandtru?c.falsandtru[a][b]:x;break;case d!==x:c.falsandtru[a]instanceof Object||(c.falsandtru[a]={}),c.falsandtru[a][b]instanceof Object&&d instanceof Object?c.extend(!0,c.falsandtru[a][b],
d):c.falsandtru[a][b]=d,f=c.falsandtru[a][b]}return f}if("function"===typeof this)return arguments.callee.apply(c(w),arguments);var n=window.validator instanceof Object?window.validator:!1;(n=n?validator.clone({name:"jquery.pjax.js",base:!0,timeout:{limit:s&&s.ajax&&s.ajax.timeout?s.ajax.timeout+n.timeout.limit:n.timeout.limit}}):!1)&&n.start();n&&n.test("++",1,s,"pjax()");n&&n.test("++",1,0,"initialize");var b=c.extend(!0,{},{id:0,gns:"pjax",ns:null,area:null,link:'a:not([target])[href^="/"]',form:null,
scope:null,state:null,scrollTop:0,scrollLeft:0,ajax:{},contentType:"text/html",cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,length:9,size:1048576,expire:18E5},callback:function(){},callbacks:{ajax:{},update:{url:{},title:{},content:{},css:{},script:{},cache:{load:{},save:{}},rendering:{},verify:{}},async:!1},parameter:null,load:{css:!1,script:!1,execute:!0,sync:!0,async:0},interval:300,wait:0,scroll:{delay:500,suspend:-100},fix:{location:!0,history:!0,scroll:!0},hashquery:!1,fallback:!0,database:!0,
server:{},speedcheck:!1},s),t=[b.gns];n&&n.test("++",1,b,"overwrite");c.extend(!0,b,{nss:{pjax:t.join("."),click:["click"].concat(t.join(":")).join("."),submit:["submit"].concat(t.join(":")).join("."),popstate:["popstate"].concat(t.join(":")).join("."),scroll:["scroll"].concat(t.join(":")).join("."),data:t.join(":"),class4html:t.join("-"),requestHeader:["X",t[0].replace(/^\w/,function(a){return a.toUpperCase()})].join("-"),array:t},location:c("<a/>",{href:f.location.href})[0],hashclick:!1,scroll:{queue:[]},
database:b.database?f.indexedDB||f.webkitIndexedDB||f.mozIndexedDB||f.msIndexedDB||null:!1,server:{query:b.server.query?b.server.query:b.gns},log:{script:{},speed:{}},history:{config:b.cache,order:[],data:{},size:0},timestamp:(new Date).getTime(),disable:!1,landing:f.location.href,retry:!0,xhr:null,speed:{now:function(){return(new Date).getTime()}},options:s,validate:n});b.id=1;y=A=void 0;C={on:function(){b.disable=!1},off:function(){b.disable=!0},click:function(a,b){b=b||{};b.href=a;c("<a/>",b).one("click",
1,A).click();return!0},submit:function(a,b,d){var f=document.createDocumentFragment(),g;if(a instanceof Object)b=c(a);else{b=b||{};b.action=a;a=d instanceof Array&&Array||d instanceof Object&&Object||x;for(var h in d){g=d[h];switch(a){case Object:g=c("<textarea/>",{name:h}).val(g);break;case Array:g.attr=g.attr||{};g.attr.name=g.name;g=c(g.tag.indexOf("<")?"<"+g.tag+"/>":g.tag,g.attr||{}).val(g.value);break;default:continue}f.appendChild(g[0])}b=c("<form/>",b).append(f)}b.one("submit",1,y).submit();
return!0},setCache:F,getCache:u,clearCache:function(){for(var a=b.history,c=a.order.length,d;d=a.order[--c];)a.order.splice(c,1),a.size-=a.data[d].size,delete a.data[d];return!0}};c.extend(!0,c.pjax,C);n&&n.test("++",1,0,"register");"pushState"in f.history&&f.history.pushState&&b.area&&(b.link||b.form)&&(c.falsandtru||(c.fn.falsandtru=O,c.falsandtru=O),c.falsandtru("share","history",b.history),b.history=c.falsandtru("share","history"),P(this));n&&n.end();return C}})(jQuery);
