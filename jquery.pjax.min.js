/*
 * 
 * pjax
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT http://opensource.org/licenses/mit-license.php
 * @version 1.27.0
 * @updated 2014/01/06
 * @author falsandtru https://github.com/falsandtru/
 * @Compressor Closure Compiler
 */
(function(e){var H,I,m=window,J=document,w=void 0,D=["settings"],P,A={};e.fn.pjax=e.pjax=function(x){function aa(a){V();b.load.script&&e("script").each(function(){var a=this,c,a="function"===typeof b.load.rewrite?n(b.load.rewrite,null,[a.cloneNode()])||a:a;(c=a.src)&&c in b.log.script||!c||b.load.reload&&e(a).is(b.load.reload)||(b.log.script[c]=!0)});e(a).undelegate(b.link,b.nss.click).delegate(b.link,b.nss.click,b.id,H=function(a){a.timeStamp=(new Date).getTime();var c=D[1];if(c.disable||a.isDefaultPrevented())return a.preventDefault();
c.location.href=t(m.location.href);c.destination.href=t(this.href);if(c.location.protocol===c.destination.protocol&&c.location.host===c.destination.host&&!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){if(!n(c.hashquery,null,[a,this.href])&&c.location.pathname+c.location.search===c.destination.pathname+c.destination.search)return c.destination.hash&&W(),a.preventDefault();var b,d;b=c.destination.href;c.area=n(c.areaback,null,[a,b]);c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(e(c.area).length&&
(!c.scope||L(c)))return c.cache[a.type.toLowerCase()]&&(d=E(b)),Q(c,a,b,!0,d),a.preventDefault()}});e(a).undelegate(b.form,b.nss.submit).delegate(b.form,b.nss.submit,b.id,I=function(a){a.timeStamp=(new Date).getTime();var c=D[1];if(c.disable||a.isDefaultPrevented())return a.preventDefault();c.location.href=t(m.location.href);c.destination.href=t(this.action);if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){var b,d;b=c.destination.href=t(c.destination.href.replace(/[?#].*/,"")+("GET"===
a.target.method.toUpperCase()?"?"+e(a.target).serialize():""));c.area=n(c.areaback,null,[a,b]);c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(e(c.area).length&&(!c.scope||L(c)))return c.cache[a.type.toLowerCase()]&&c.cache[a.target.method.toLowerCase()]&&(d=E(b)),Q(c,a,b,!0,d),a.preventDefault()}});e(m).unbind(b.nss.popstate).bind(b.nss.popstate,b.id,function(a){a.timeStamp=(new Date).getTime();var c=D[1];if(c.disable||a.isDefaultPrevented())return a.preventDefault();c.destination.href=t(m.location.href);
if(c.location.href===c.destination.href)return a.preventDefault();var b,d;if(!n(c.hashquery,null,[a,b])&&c.location.pathname+c.location.search===c.destination.pathname+c.destination.search)return a.preventDefault();b=c.destination.href;c.area=n(c.areaback,null,[a,b]);c.timestamp=a.timeStamp;if(c.landing){if(c.landing.href===b){c.landing=!1;return}c.landing=!1}if(e(c.area).length)return c.database&&c.fix.history&&R(b),c.cache[a.type.toLowerCase()]&&(d=E(b)),Q(c,a,b,!1,d),a.preventDefault()});b.database&&
b.fix.scroll&&e(m).unbind(b.nss.scroll).bind(b.nss.scroll,b.id,function(a,c){var b=D[1],d,n=arguments.callee;if(b.scroll.delay){for(;d=b.scroll.queue.shift();)clearTimeout(d);d=setTimeout(function(){for(;d=b.scroll.queue.shift();)clearTimeout(d);S(e(m).scrollLeft(),e(m).scrollTop())},b.scroll.delay);b.scroll.queue.push(d)}else S(e(m).scrollLeft(),e(m).scrollTop());b.scroll.suspend&&!c&&(e(this).unbind(b.nss.scroll),setTimeout(function(){b.database&&b.fix.scroll&&e(m).bind(b.nss.scroll,b.id,n).trigger(b.nss.scroll,
[!0])},b.scroll.suspend))});(function(){function a(c){try{var b=c&&c.parseFromString&&c.parseFromString("DOMParser","text/html");return b&&b.body&&"DOMParser"===b.body.innerHTML}catch(e){}}var c=window.DOMParser;A=c&&c.prototype&&new c;a(A)||(A=function(){},A.parseFromString=function(a,b){if(/(?:^|.+?\s+?|\s*?)text\/html(?:[\s;]|$)/i.test(b)){if(document.implementation&&document.implementation.createHTMLDocument){var e=document.implementation.createHTMLDocument("");e.open();e.write(a);e.close();return e}}else return(new c).parseFromString.apply(this,
arguments)},a(A)||(A=!1))})()}function Q(a,b,c,B,d){function k(a,b,d){var f=a.validate?a.validate.clone({name:"jquery.pjax.js - update()"}):!1;f&&f.start();f&&(f.scope=function(a){return eval(a)});f&&f.test("1",1,0,"update()");f&&f.test("++",1,0,"start");a:{var h=a.speedcheck;h&&a.log.speed.name.push("update");h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);var l=a.callbacks.update;if(!1!==n(l.before,null,[b,a.parameter,s,r,p,d],a.callbacks.async)){var k=window,m=document,v,g,q;try{f&&f.test("++",
1,0,"try");f&&f.test("++",1,d?0:[a.contentType,p.getResponseHeader("Content-Type")],"content-type");if(!d&&-1===(p.getResponseHeader("Content-Type")||"").toLowerCase().search(a.contentType))throw Error("throw: content-type mismatch");f&&f.test("++",d?"'usable'":"'unusable'",0,"cache");d&&!1!==n(l.cache.load.before,null,[b,a.parameter,d],a.callbacks.async)&&(p=d.XMLHttpRequest||p,s=p.responseText,r=d.textStatus||r,g=d.css,q=d.script,n(l.cache.load.after,null,[b,a.parameter,d],a.callbacks.async));f&&
f.test("++",1,0,"initialize");var y,z,u,w,C,x,K;x=a.area.split(/\s*,\s*/);z=(p.responseText||"").replace(/<noscript[^>]*>(?:.|[\n\r])*?<\/noscript>/gim,function(a){return a.replace(/<script(?:.|[\n\r])*?<\/script>/gim,"")});if(d&&d.data){w=d.data;u=e(A&&w&&A.parseFromString(w,"text/html")||w);z=z.replace(/<title[^>]*?>([^<]*?)<\/title>/i,function(a){return N(w,/(<title[^>]*?>[^<]*?<\/title>)/i).shift()||a});y=e(A&&z&&A.parseFromString(z,"text/html")||z);for(var U=0,G,D;G=x[U++];)y.find(G).add(C?"":
y.filter(G)).html(u.find(G).add(C?"":u.filter(G)).contents())}else y=e(A&&z&&A.parseFromString(z,"text/html")||z);switch(!0){case !!y.find("html")[0]:C=1;y.find("noscript").each(function(){this.children.length&&e(this).text(this.innerHTML)});break;case !!y.filter("title")[0]:C=0;break;default:C=!1}switch(C){case 1:v=y.find("title").text();break;case 0:v=y.filter("title").text();break;case !1:v=e("<span/>").html(N(z,/<title[^>]*?>([^<]*?)<\/title>/i).shift()).text()}if(!e(a.area).length||!y.find(a.area).add(C?
"":y.filter(a.area)).length)throw Error("throw: area length mismatch");e(k).trigger(a.gns+".unload");f&&f.test("++",1,c,"url");!1!==n(l.url.before,null,[b,a.parameter,s,r,p],a.callbacks.async)&&(B&&c!==a.location.href&&k.history.pushState(n(a.state,null,[b,c]),k.opera||-1!==k.navigator.userAgent.toLowerCase().indexOf("opera")?v:m.title,c),a.location.href=c,B&&a.fix.location&&(P.off(),k.history.back(),k.history.forward(),P.on()),n(l.url.after,null,[b,a.parameter,s,r,p],a.callbacks.async));f&&f.test("++",
1,v,"title");!1!==n(l.title.before,null,[b,a.parameter,s,r,p],a.callbacks.async)&&(m.title=v,a.database&&a.fix.history&&R(c,v),n(l.title.after,null,[b,a.parameter,s,r,p],a.callbacks.async));a.database&&X();f&&f.test("++",1,0,"scroll");var F=function(c){var f,d;switch(b.type.toLowerCase()){case "click":case "submit":f=c&&"function"===typeof a.scrollLeft?n(a.scrollLeft,null,[b]):a.scrollLeft;f=0<=f?f:0;f=null===f?e(k).scrollLeft():parseInt(Number(f),10);d=c&&"function"===typeof a.scrollTop?n(a.scrollTop,
null,[b]):a.scrollTop;d=0<=d?d:0;d=null===d?e(k).scrollTop():parseInt(Number(d),10);e(k).scrollTop()===d&&e(k).scrollLeft()===f||k.scrollTo(f,d);c&&a.database&&a.fix.scroll&&S(f,d);break;case "popstate":c&&a.database&&a.fix.scroll&&S()}};F(!1);f&&f.test("++",1,x,"content");if(!1!==n(l.content.before,null,[b,a.parameter,s,r,p],a.callbacks.async)){e(a.area).children("."+a.nss.class4html+"-check").remove();K=e("<div/>",{"class":a.nss.class4html+"-check",style:"background: none !important; display: block !important; visibility: hidden !important; position: absolute !important; top: 0 !important; left: 0 !important; z-index: -9999 !important; width: auto !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; font-size: 12px !important; text-indent: 0 !important;"}).text(a.gns);
for(U=0;G=x[U++];)D=y.find(G).add(C?"":y.filter(G)).clone().find("script").remove().end().contents(),e(G).html(D).append(K.clone());K=e(a.area).children("."+a.nss.class4html+"-check");e(m).trigger(a.gns+".DOMContentLoaded");n(l.content.after,null,[b,a.parameter,s,r,p],a.callbacks.async)}h&&a.log.speed.name.push("content");h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);f&&f.test("++",1,0,"cache");d&&d.XMLHttpRequest||!a.cache.click&&!a.cache.submit&&!a.cache.popstate||"submit"===b.type.toLowerCase()&&
!a.cache[b.target.method.toLowerCase()]||!1===n(l.cache.save.before,null,[b,a.parameter,d],a.callbacks.async)||(T(c,w||null,r,p),cahce=E(c),n(l.cache.save.after,null,[b,a.parameter,d],a.callbacks.async));f&&f.test("++",1,0,"rendering");var J=function(c){if(!1!==n(l.rendering.before,null,[b,a.parameter],a.callbacks.async)){var f=0;(function(){K.filter(function(){return this.clientWidth||this.clientHeight||e(this).is(":hidden")}).length===K.length||100<=f?L(c):K.length&&(f++,setTimeout(arguments.callee,
a.interval))})()}},L=function(c){h&&a.log.speed.name.push("rendered");h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);K.remove();a.scroll.record=!0;W("popstate"===b.type.toLowerCase())||F(!0);e(k).trigger(a.gns+".load");n(c);h&&console.log(a.log.speed.time);h&&console.log(a.log.speed.name);n(l.rendering.after,null,[b,a.parameter],a.callbacks.async)};f&&f.test("++",1,0,"escape");switch(C){case 1:case 0:y.find("noscript").find('link[rel~="stylesheet"], style').remove();break;case !1:z=z.replace(/^(?:.|[\n\r])*<body[^>]*>.*[\n\r]*.*[\n\r]*/im,
function(a){return a.replace(/\x3c!--\[(?:.|[\n\r])*?<!\[endif\]--\x3e/gim,"")}),z=z.replace(/<noscript(?:.|[\n\r])*?<\/noscript>/gim,"")}f&&f.test("++",1,0,"css");f&&f.test("++",1,0,"script");var H=function(f){var m=a.validate?a.validate.clone({name:"jquery.pjax.js - load_script()"}):!1;m&&m.start();m&&(m.scope=function(a){return eval(a)});if(a.load.script&&!1!==n(l.script.before,null,[b,a.parameter,s,r,p],a.callbacks.async)){var B;B=(d=E(c))&&!d.script;switch(q||C){case 1:case 0:q=y.find("script").add(C?
"":y.filter("script")).clone().get();break;case !1:q=N(z,/(?:[^\'\"]|^\s*?)(<script[^>]*?>(?:.|[\n\r])*?<\/script>)(?:[^\'\"]|\s*?$)/gim)}d&&d.script&&q&&q.length!==d.script.length&&(B=!0);B&&(d.script=[]);for(var v=0,g,M;g=q[v];v++)if(g="object"===typeof g?B?e(g.outerHTML)[0]:g:e(g)[0],g="function"===typeof a.load.rewrite?n(a.load.rewrite,null,[g.cloneNode()])||g:g,B&&(d.script[v]=g),e(g).is(f)&&(M=O(g.src||""),!(M&&M in a.log.script||a.load.reject&&e(g).is(a.load.reject)))){!M||a.load.reload&&e(g).is(a.load.reload)||
(a.log.script[M]=!0);try{M?e.ajax(e.extend(!0,{},a.ajax,a.load.ajax,{url:g.src,async:!!g.async,global:!1})):"object"!==typeof g||g.type&&-1===g.type.toLowerCase().indexOf("text/javascript")||k.eval.call(k,(g.text||g.textContent||g.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|\-\-)/,"/*$0*/"))}catch(w){break}}!1!==n(l.script.after,null,[b,a.parameter,s,r,p],a.callbacks.async)&&("[src][defer]"===f&&h&&a.log.speed.name.push("script"),"[src][defer]"===f&&h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}m&&
m.end()};f&&f.test("++",1,0,"verify");if(!1!==n(l.verify.before,null,[b,a.parameter],a.callbacks.async)){if(c===t(k.location.href))a.retry=!0;else if(a.retry)a.retry=!1,Q(a,b,k.location.href,!1,a.cache[b.type.toLowerCase()]&&E(t(k.location.href)));else throw Error("throw: location mismatch");n(l.verify.after,null,[b,a.parameter],a.callbacks.async)}f&&f.test("++",1,0,"load");(function(){var f=a.validate?a.validate.clone({name:"jquery.pjax.js - load_css()"}):!1;f&&f.start();f&&(f.scope=function(a){return eval(a)});
if(a.load.css&&!1!==n(l.css.before,null,[b,a.parameter,s,r,p],a.callbacks.async)){var k,m=[],B=e('link[rel~="stylesheet"], style');k=(d=E(c))&&!d.css;switch(g||C){case 1:case 0:g=y.find('link[rel~="stylesheet"], style').add(C?"":y.filter('link[rel~="stylesheet"], style')).clone().get();break;case !1:g=N(z,/(<link[^>]*?rel=.[^"\']*?stylesheet[^>]*?>|<style[^>]*?>(?:.|[\n\r])*?<\/style>)/gim)}d&&d.css&&g&&g.length!==d.css.length&&(k=!0);k&&(d.css=[]);for(var v=0,q,w;q=g[v];v++){q="object"===typeof q?
k?e(q.outerHTML)[0]:q:e(q)[0];q="function"===typeof a.load.rewrite?n(a.load.rewrite,null,[q.cloneNode()])||q:q;k&&(d.css[v]=q);w=O(q.href||q.innerHTML||"");for(var u=0,t;t=B[u];u++)if(O(t.href||t.innerHTML||"")===w){B=B.not(t);q=null;break}q&&m.push(q)}B.remove();e("head").append(m);!1!==n(l.css.after,null,[b,a.parameter,s,r,p],a.callbacks.async)&&(h&&a.log.speed.name.push("css"),h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}f&&f.end()})();e(m).trigger(a.gns+".ready");e(k).bind(a.gns+
".rendering",function(b){e(b.target).unbind(b.type+".rendering",arguments.callee);H(":not([defer]), :not([src])");a.load.sync?J(function(){H("[src][defer]")}):(J(),H("[src][defer]"))}).trigger(a.gns+".rendering").unbind(a.gns+".rendering");if(!1===n(l.success,null,[b,a.parameter,s,r,p],a.callbacks.async))break a;if(!1===n(l.complete,null,[b,a.parameter,s,r,p],a.callbacks.async))break a;if(!1===n(a.callback,null,[b,a.parameter,s,r,p],a.callbacks.async))break a;f&&f.test("++",1,0,"success")}catch(I){f&&
f.test("++",!String(I.message).indexOf("throw:"),I,"catch");f&&f.test("++",!("throw: location mismatch"===I.message&&c!==k.location.href),[c,k.location.href],"!( err.message === 'throw: location mismatch' && url !== win.location.href )");d&&T(c);if(!1===n(l.error,null,[b,a.parameter,s,r,p],a.callbacks.async))break a;if(!1===n(l.complete,null,[b,a.parameter,s,r,p],a.callbacks.async))break a;f&&f.test("++",1,[c,k.location.href],"error");if(a.fallback)return"function"===typeof a.fallback?n(a.fallback,
null,[b,c]):Y(b,f)}!1!==n(l.after,null,[b,a.parameter,s,r,p],a.callbacks.async)&&(h&&a.log.speed.name.push("complete"),h&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),f&&f.test("++",1,0,"end"),f&&f.end())}}}var h=a.validate?a.validate.clone({name:"jquery.pjax.js - drive()"}):!1;h&&h.start();h&&(h.scope=function(a){return eval(a)});h&&h.test("++",1,[c,b.type],"drive()");var v=a.speedcheck;v&&(a.log.speed.fire=a.timestamp);v&&(a.log.speed.time=[]);v&&(a.log.speed.name=[]);v&&a.log.speed.name.push("fire");
v&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);h&&h.test("++",1,0,"start");a.scroll.record=!1;a.fix.reset&&/click|submit/.test(b.type.toLowerCase())&&m.scrollTo(e(m).scrollLeft(),0);if(!1!==n(a.callbacks.before,null,[b,a.parameter],a.callbacks.async))if(d&&d.XMLHttpRequest)h&&h.test("++",1,0,"update"),e.when?e.when(Z(a.wait)).done(function(){k(a,b,d)}):k(a,b,d),h&&h.test("++",1,0,"end"),h&&h.end();else{h&&h.test("++",1,0,"initialize");var l,q,s,p,r,g;l={};switch(b.type.toLowerCase()){case "click":h&&
h.test("++",1,0,"event click");l.type="GET";break;case "submit":h&&h.test("++",1,b.target.method,"event submit");l.type=b.target.method.toUpperCase();"POST"===l.type&&(l.data=e(b.target).serializeArray());break;case "popstate":h&&h.test("++",1,0,"event popstate"),l.type="GET"}q=e.when?e.Deferred():null;h&&h.test("++",1,0,"setting");e.extend(!0,l,a.ajax,{xhr:a.callbacks.ajax.xhr?function(){p=n(a.callbacks.ajax.xhr,null,[b,a.parameter],a.callbacks.async);return p="object"===typeof p&&p||e.ajaxSettings.xhr()}:
w,beforeSend:function(c,d){p=c;a.xhr&&4>a.xhr.readyState&&a.xhr.abort();a.xhr=p;p.setRequestHeader(a.nss.requestHeader,"true");p.setRequestHeader(a.nss.requestHeader+"-Area",a.area);p.setRequestHeader(a.nss.requestHeader+"-CSS",a.load.css);p.setRequestHeader(a.nss.requestHeader+"-Script",a.load.script);n(a.callbacks.ajax.beforeSend,null,[b,a.parameter,p,d],a.callbacks.async)},dataFilter:a.callbacks.ajax.dataFilter?function(c,d){s=c;return n(a.callbacks.ajax.dataFilter,null,[b,a.parameter,s,d],a.callbacks.async)||
s}:w,success:function(d,e,k){s=d;r=e;p=k;(h=a.validate?a.validate.clone({name:"jquery.pjax.js - $.ajax()"}):!1)&&h.start();h&&h.test("++","success"===r,[c,a.location.href,p,r],"ajax success");n(a.callbacks.ajax.success,null,[b,a.parameter,s,r,p],a.callbacks.async)},error:function(d,e,k){p=d;r=e;g=k;(h=a.validate?a.validate.clone({name:"jquery.pjax.js - $.ajax()"}):!1)&&h.start();h&&h.test("++","abort"===r,[c,a.location.href,p,r,g],"ajax error");n(a.callbacks.ajax.error,null,[b,a.parameter,p,r,g],
a.callbacks.async)},complete:function(e,l){p=e;r=l;h&&h.test("++",1,0,"ajax complete");n(a.callbacks.ajax.complete,null,[b,a.parameter,p,r],a.callbacks.async);if(g){if(q&&q.reject(),a.fallback&&"abort"!==r)return"function"===typeof a.fallback?n(a.fallback,null,[b,c]):Y(b,h)}else q&&q.resolve()||k(a,b,d);h&&h.end()}});l.url=c.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(a.server.query?(c.match(/\?/)?"&":"?")+encodeURIComponent(a.server.query)+"=1":"")+"$2");h&&h.test("++",1,0,"ajax");v&&a.log.speed.name.push("request");
v&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);e.when&&e.when(q.promise(),Z(a.wait)).done(function(){k(a,b,d)});e.ajax(l);!1!==n(a.callbacks.after,null,[b,a.parameter],a.callbacks.async)&&(h&&h.test("++",1,0,"end"),h&&h.end())}}function t(a){a=O(a);a=/^https?:/i.test(a)?a:"";a=a.replace(/[<>"{}|\\^\[\]`\s].*/,"");return encodeURI(decodeURI(a))}function O(a){if(String.prototype.trim)a=String(a).trim();else if(a=String(a).replace(/^\s+/,""))for(var b=a.length;--b;)if(/\S/.test(a.charAt(b))){a=
a.substring(0,b+1);break}return a}function n(a,b,c,e){return"function"===typeof a?e?setTimeout(function(){a.apply(b,c)},0):a.apply(b,c):a}function W(a){var f=b.destination.hash.slice(1);return!(a||!f)&&e("#"+(f?f:", [name~="+f+"]")).first().each(function(){isFinite(e(this).offset().top)&&m.scrollTo(e(m).scrollLeft(),parseInt(Number(e(this).offset().top),10))}).length}function Z(a){var b=e.Deferred();if(!a)return b.resolve();setTimeout(function(){b.resolve()},a);return b.promise()}function Y(a,b){b&&
b.test("++",1,0,"fallback()");b&&b.end();"click"===a.type.toLowerCase()?m.location.href=a.currentTarget.href:"submit"===a.type.toLowerCase()?a.target.submit():"popstate"===a.type.toLowerCase()&&m.location.reload()}function N(a,b){var c=[];a.replace(b,function(a,b){c.push(b)});return c}function L(a,b){var c,g,d,k,h,m,l,q,s,p,r,t,u,A;c=a.scope;d=a.location.pathname+a.location.search+a.location.hash;k=a.destination.pathname+a.destination.search+a.destination.hash;"/"!==a.location.pathname.charAt(0)&&
(d="/"+d,k="/"+k);g=d.replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");m=(b||d).replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");if(b){if(-1===b.indexOf("*"))return w;h=[];for(var x=m.length;x--;)"*"===m[x]&&h.unshift(g[x])}for(x=m.length+1;x--;)if(p=r=t=u=w,g=m.slice(0,x).join("/").replace(/\/([?#])/g,"$1"),(g="/"+g+("/"===(b||d).charAt(g.length+1)?"/":""))&&g in c){if(!c[g]||!c[g].length)return!1;for(var E=0;l=c[g][E];E++)if(!1!==t&&!1!==u)if("rewrite"!==l||"function"!==typeof c.rewrite||
b)if("inherit"===l)r=!0;else if("string"===typeof l){l=(q="^"===l.charAt(0))?l.slice(1):l;l=(s="*"===l.charAt(0))?l.slice(1):l;if(b&&-1!==l.indexOf("/*/"))for(var D=0,F=h.length;D<F;D++)l=l.replace("/*/","/"+h[D]+"/");if(!(!q&&t||(s?d.search(l):d.indexOf(l)))){if(q)return!1;t=!0}if(!(!q&&u||(s?k.search(l):k.indexOf(l)))){if(q)return!1;u=!0}}else"object"===typeof l&&(A=l);else if(p=L(a,n(c.rewrite,null,[a.destination.href])))t=u=!0;else if(!1===p)return!1;if(t&&u)return a.options||p?e.extend(!0,{},
p||{}):e.extend(!0,{},a,A||{},p||{});if(!r)break}}function T(a,f,c,g){var d,k,h;d=b.history;a=a||t(m.location.href);b.hashquery||(a=a.replace(/#.*/,""));switch(arguments.length){case 1:for(k=0;h=d.order[k];k++)a===h&&(d.order.splice(k,1),d.size-=d.data[h].size,d.data[h]=null,delete d.data[h]);break;case 0:return arguments.callee.call(this,a,O(document.documentElement.outerHTML));default:d.order.unshift(a);for(k=1;h=d.order[k];k++)a===h&&d.order.splice(k,1);if(d.size>d.config.size){k=b.history;h=k.order.length;
for(var n;n=k.order[--h];)if(h>=k.config.length||n in k.data&&b.timestamp>k.data[n].timestamp+k.config.expire)k.order.splice(h,1),k.size-=k.data[n].size,delete k.data[n]}E(a);k=e("<span/>").html(N((f||"")+((g||{}).responseText||"")+"<title></title>",/<title[^>]*?>([^<]*?)<\/title>/i).shift()).text();h=parseInt(1.8*((f||"").length+((g||{}).responseText||"").length)||1048576,10);d.size=d.size||0;d.size+=h;d.data[a]=e.extend(!0,d.data[a]||{},{XMLHttpRequest:g,textStatus:c,data:f,size:h,timestamp:(new Date).getTime()});
b.database&&b.fix.history&&R(a,k)}return d.data[a]}function E(a){var f;f=b.history;a=a||t(m.location.href);b.hashquery||(a=a.replace(/#.*/,""));f.data[a]&&b.timestamp>f.data[a].timestamp+f.config.expire&&T(a);return f.data[a]}function V(){var a=b.validate?b.validate.clone({name:"jquery.pjax.js - database()"}):!1;a&&a.start();a&&(a.scope=function(a){return eval(a)});var f=1,c=b.database,e=b.gns,d,k,h=Math.floor(b.timestamp/864E5);if(!c||!e)return a&&a.end(),!1;try{f=parseInt(h-h%7+f,10),a&&a.test("++",
1,f,"open"),d=c.open(e),a&&a.test("++",1,0,"call"),d.onblocked=function(){a&&a.test("++",0,0,"onblocked()");b.database=!1},d.onupgradeneeded=function(){a&&a.test("++",1,0,"onupgradeneeded()");var c=b.database=this.result;a&&a.test("++",1,0,"deleteObjectStore");for(var d=c.objectStoreNames?c.objectStoreNames.length:0;d--;)c.deleteObjectStore(c.objectStoreNames[d]);a&&a.test("++",1,0,"createObjectStore");b.database.createObjectStore(b.gns,{keyPath:"id",autoIncrement:!1}).createIndex("date","date",{unique:!1})},
d.onsuccess=function(){a&&a.test("++",1,0,"onsuccess()");try{b.database=this.result,a&&a.test("++",1,0,"store"),k=F(),a&&a.test("++",1,0,"update"),k.get("_version").onsuccess=function(){if(this.result&&f!==this.result.title)b.database.close(),c.deleteDatabase(e),b.database=c,V();else{var a=f,d=F();d&&d.put({id:"_version",title:a});X();R(b.location.href,J.title)}}}catch(d){a&&a.test("++",1,d,"cancel"),b.database.close(),c.deleteDatabase(e),b.database=!1}a&&a.end()},d.onerror=function(d){a&&a.test("++",
0,d,"onerror()");b.database=!1;c.deleteDatabase(e);a&&a.end()}}catch(g){a&&a.test("++",0,g,"error"),b.database=!1,a&&a.end()}}function F(){return"object"===typeof b.database&&"function"===typeof b.database.transaction&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns)}function X(){var a=F();a&&a.put({id:"_current",title:b.hashquery?m.location.href:m.location.href.replace(/#.*/,"")})}function R(a,f){var c=F();c&&(b.hashquery||(a=a.replace(/#.*/,"")),f?c.get(a).onsuccess=function(){c.put(e.extend(!0,
{},this.result||{},{id:a,title:f,date:b.timestamp}));ba(c)}:c.get(a).onsuccess=function(){this.result&&this.result.title&&(J.title=this.result.title)})}function S(a,f){var c=F(),g=b.location.href,d=arguments.length;b.scroll.record&&c&&(b.hashquery||(g=g.replace(/#.*/,"")),c.get("_current").onsuccess=function(){this.result&&this.result.title&&g===this.result.title&&(d?c.get(g).onsuccess=function(){c.put(e.extend(!0,{},this.result||{},{scrollX:parseInt(Number(a),10),scrollY:parseInt(Number(f),10)}))}:
c.get(g).onsuccess=function(){this.result&&isFinite(this.result.scrollX)&&isFinite(this.result.scrollY)&&m.scrollTo(parseInt(Number(this.result.scrollX),10),parseInt(Number(this.result.scrollY),10))})})}function ba(a){var f=m.IDBKeyRange||m.webkitIDBKeyRange||m.mozIDBKeyRange||m.msIDBKeyRange;a.count().onsuccess=function(){1E3<this.result&&(a.index("date").openCursor(f.upperBound(b.timestamp-2592E5)).onsuccess=function(){var b=this.result;b?(b["delete"](b.value.id),b["continue"]()):a.count().onsuccess=
function(){1E3<this.result&&a.clear()}})}}function $(a,b,c){var g;switch(!0){case b===w:g=e.falsandtru[a];break;case c===w:g=a in e.falsandtru?e.falsandtru[a][b]:w;break;case c!==w:e.falsandtru[a]instanceof Object||(e.falsandtru[a]={}),e.falsandtru[a][b]instanceof Object&&c instanceof Object?e.extend(!0,e.falsandtru[a][b],c):e.falsandtru[a][b]=c,g=e.falsandtru[a][b]}return g}if(!(this instanceof e))return arguments.callee.apply(e(J),arguments);var g=window.validator instanceof Object?window.validator:
!1;(g=g?validator.clone({name:"jquery.pjax.js",base:!0,timeout:{limit:x&&x.ajax&&x.ajax.timeout?x.ajax.timeout+g.timeout.limit:g.timeout.limit}}):!1)&&g.start();g&&g.test("++",1,x,"pjax()");g&&g.test("++",1,0,"initialize");var u={id:0,gns:"pjax",ns:null,area:null,link:"a:not([target])",form:null,scope:null,state:null,scrollTop:0,scrollLeft:0,ajax:{},contentType:"text/html",cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,length:9,size:1048576,expire:18E5},callback:function(){},callbacks:{ajax:{},
update:{url:{},title:{},content:{},css:{},script:{},cache:{load:{},save:{}},rendering:{},verify:{}},async:!1},parameter:null,load:{css:!1,script:!1,execute:!0,reload:null,reject:null,sync:!0,ajax:{dataType:"script"},rewrite:null},interval:300,wait:0,scroll:{delay:500,suspend:-100},fix:{location:!0,history:!0,scroll:!0,reset:!1},hashquery:!1,fallback:!0,database:!0,server:{},location:e("<a/>",{href:t(m.location.href)})[0],destination:e("<a/>",{href:t(m.location.href)})[0],speedcheck:!1},b=e.extend(!0,
{},u,x),u=[b.gns];g&&g.test("++",1,b,"overwrite");e.extend(!0,b=b.scope&&L(b)||b,{nss:{pjax:u.join("."),click:["click"].concat(u.join(":")).join("."),submit:["submit"].concat(u.join(":")).join("."),popstate:["popstate"].concat(u.join(":")).join("."),scroll:["scroll"].concat(u.join(":")).join("."),data:u.join(":"),class4html:u.join("-"),requestHeader:["X",u[0].replace(/^\w/,function(a){return a.toUpperCase()})].join("-"),array:u},areaback:b.area,fix:/Mobile(\/\w+)? Safari/i.test(m.navigator.userAgent)?
{}:{location:!1,reset:!1},contentType:b.contentType.replace(/\s*[,;]\s*/g,"|").toLowerCase(),scroll:{record:!0,queue:[]},database:b.database?m.indexedDB||m.webkitIndexedDB||m.mozIndexedDB||m.msIndexedDB||null:!1,server:{query:b.server.query?b.server.query:b.gns},log:{script:{},speed:{}},history:{config:b.cache,order:[],data:{},size:0},timestamp:(new Date).getTime(),disable:!1,landing:t(m.location.href),retry:!0,xhr:null,speed:{now:function(){return(new Date).getTime()}},options:x,validate:g});b.id=
1;D[b.id]=b;I=H=void 0;P={on:function(){b.disable=!1},off:function(){b.disable=!0},click:function(a,b){b=b||{};return(b.href=a)?e("<a/>",b).one("click",1,H).click():!1},submit:function(a,b,c){var g=J.createDocumentFragment(),d;switch(!0){case "object"===typeof a:b=e(a);break;case !!c:b=b||{};b.action=a;a=c instanceof Array&&Array||c instanceof Object&&Object||w;for(var k in c){d=c[k];switch(a){case Object:d=e("<textarea/>",{name:k}).val(d);break;case Array:d.attr=d.attr||{};d.attr.name=d.name;d=e(d.tag.indexOf("<")?
"<"+d.tag+"/>":d.tag,d.attr||{}).val(d.value);break;default:continue}g.appendChild(d[0])}b=e("<form/>",b).append(g);break;default:return!1}b.one("submit",1,I).submit();return!0},setCache:T,getCache:E,clearCache:function(){for(var a=b.history,e=a.order.length,c;c=a.order[--e];)a.order.splice(e,1),a.size-=a.data[c].size,delete a.data[c];return!0}};e.extend(!0,e.pjax,P);g&&g.test("++",1,0,"register");"pushState"in m.history&&m.history.pushState&&b.area&&(b.link||b.form)&&(e.falsandtru||(e.fn.falsandtru=
$,e.falsandtru=$),e.falsandtru("share","history",b.history),b.history=e.falsandtru("share","history"),aa(this));g&&g.end();return this}})(jQuery);
