/*
 * 
 * pjax
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT http://opensource.org/licenses/mit-license.php
 * @version 1.36.2
 * @updated 2014/06/13
 * @author falsandtru https://github.com/falsandtru/
 * @Compressor Closure Compiler
 */
(function(m,n,A,D){function G(b,e,g,r,f,a){var k=this;switch(!0){case "object"===typeof a:k=k instanceof b?k:b(g);k=f.setProperties.call(k,a.ns||"",null);if(!a.area&&!a.scope)return k;break;default:return k=k instanceof b?k:b[f.name],f.setProperties.call(k,null,null)}var l;l=b.extend(!0,{id:0,gns:f.name,ns:null,area:"body",link:"a:not([target])",filter:function(){return/(\/[^.]*|\.html?|\.php)([#?].*)?$/.test(this.href)},form:null,scope:null,state:null,scrollTop:0,scrollLeft:0,ajax:{dataType:"text"},
contentType:"text/html",cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,mix:!1,page:100,size:1048576,expires:{max:null,min:3E5}},callback:function(){},callbacks:{ajax:{},update:{redirect:{},url:{},title:{},head:{},content:{},scroll:{},css:{},script:{},cache:{load:{},save:{}},rendering:{},verify:{}},async:!1},parameter:null,load:{css:!1,script:!1,execute:!0,head:"link, meta, base",reload:'[href^="chrome-extension://"]',reject:'[src*="jquery.js"], [src*="jquery.min.js"]',sync:!0,ajax:{dataType:"script",
cache:!0},rewrite:null,redirect:!0},interval:100,wait:0,scroll:{delay:300},fix:{location:!0,history:!0,scroll:!0,reset:!1},hashquery:!1,fallback:!0,database:!0,server:{query:"pjax=1"}},a);l.location=b("<a/>",{href:f.canonicalizeURL(e.location.href)})[0];l.destination=b("<a/>",{href:f.canonicalizeURL(e.location.href)})[0];l=l.scope&&f.scope(l)||l;l.nss={array:[f.name].concat(l.ns&&String(l.ns).split(".")||[])};b.extend(!0,l,{nss:{name:l.ns||"",event:l.nss.array.join("."),alias:f.alias?[f.alias].concat(l.nss.array.slice(1)).join("."):
!1,click:["click"].concat(l.nss.array.join(":")).join("."),submit:["submit"].concat(l.nss.array.join(":")).join("."),popstate:["popstate"].concat(l.nss.array.join(":")).join("."),scroll:["scroll"].concat(l.nss.array.join(":")).join("."),data:l.nss.array.join("-"),class4html:l.nss.array.join("-"),requestHeader:["X",l.nss.array[0].replace(/^\w/,function(a){return a.toUpperCase()})].join("-")},areas:null,areaback:null,fix:/touch|tablet|mobile|phone|android|iphone|ipad|blackberry/i.test(e.navigator.userAgent)?
{}:{location:!1,reset:!1},contentType:l.contentType.replace(/\s*[,;]\s*/g,"|").toLowerCase(),scroll:{record:!0,queue:[]},log:{script:{},speed:{}},history:{order:[],data:{},size:0},timeStamp:(new Date).getTime(),disable:!1,landing:f.canonicalizeURL(e.location.href),retry:!0,xhr:null,speed:{now:function(){return(new Date).getTime()}},option:a});f.supportPushState()&&b(function(){f.registrate.call(k,b,e,g,r,f,l)});return k}var h;h={name:"pjax",alias:"",ids:[],settings:[0],count:0,disable:!1,setAlias:function(b){h.alias=
"string"===typeof b?b:h.alias;h.name===h.alias||m[h.alias]||(m[h.name][h.alias]=m.fn[h.name],m.fn[h.alias]=m[h.alias]=m.fn[h.name])},IDBFactory:n.indexedDB||n.webkitIndexedDB||n.mozIndexedDB||n.msIndexedDB,IDBDatabase:null,IDBKeyRange:n.IDBKeyRange||n.webkitIDBKeyRange||n.mozIDBKeyRange||n.msIDBKeyRange,createHTMLDocument:null,setProperties:function(b,e){var g=this;if(g instanceof m||g===m[h.name])g=g instanceof m&&e!==D?g.add(e):g,g[h.name]=m[h.name],g.enable=function(){h.disable=!1},g.disable=function(){h.disable=
!0},g.click=function(b,f){var a;switch(!0){case "object"===typeof b:a=m(b);break;case !!b:f=f||{};f.href=b;a=m("<a/>",f);break;default:return this}return a.first().one("click",1,h.click).click()},g.submit=function(b,f,a){var e=A.createDocumentFragment(),l;switch(!0){case "object"===typeof b:f=m(b);break;case !!a:f=f||{};f.action=b;b=a instanceof Array&&Array||a instanceof Object&&Object||D;for(var d in a){l=a[d];switch(b){case Object:l=m("<textarea/>",{name:d}).val(l);break;case Array:l.attr=l.attr||
{};l.attr.name=l.name;l=m(l.tag.indexOf("<")?"<"+l.tag+"/>":l.tag,l.attr||{}).val(l.value);break;default:continue}e.appendChild(l[0])}f=m("<form/>",f).append(e);break;default:return this}return f.first().one("submit",1,h.submit).submit()},g.setCache=function(b,f,a,e){var l=h.settings[1];if(!l||!l.history)return this;var d,g,w,s,p;d=l.history;b=h.canonicalizeURL(b||n.location.href);b=l.hashquery?b:b.replace(/#.*/,"");switch(arguments.length){case 0:return f=h.trim(A.documentElement.outerHTML),arguments.callee.call(this,
b,f);case 1:return arguments.callee.call(this,b,null);default:d.order.unshift(b);for(g=1;w=d.order[g];g++)b===w&&d.order.splice(g,1);d.size>l.cache.size&&m[h.name].cleanCache();m[h.name].getCache(b);w=h.createHTMLDocument(f||(e||{}).responseText||"");g=w.title||"";w=parseInt(1.8*w.documentElement.outerHTML.length||1048576,10);s=(new Date).getTime();(p=l.cache.expires)?d.data[b]&&!e?p=d.data[b].expires:(e&&(/no-store|no-cache/.test(e.getResponseHeader("Cache-Control"))||(p=~String(p=e.getResponseHeader("Cache-Control")).indexOf("max-age=")?
1E3*p.match(/max-age=(\d+)/)[1]:(p=e.getResponseHeader("Expires"))?(new Date(p)).getTime()-(new Date).getTime():l.cache.expires)),p=Math.max(p,0)||0,p="object"===typeof l.cache.expires&&"number"===typeof l.cache.expires.min?Math.max(l.cache.expires.min,p):p,p="object"===typeof l.cache.expires&&"number"===typeof l.cache.expires.max?Math.min(l.cache.expires.max,p):p,p=s+p):p=0;d.size=d.size||0;d.size+=d.data[b]?0:w;d.data[b]=m.extend(!0,d.data[b]||{},{XMLHttpRequest:e,textStatus:a,data:f,size:w,expires:p,
timeStamp:s});d.data[b].data||d.data[b].XMLHttpRequest||m[h.name].removeCache(b);l.database&&l.fix.history&&h.dbTitle(b,g)}return this},g.getCache=function(b){var f=h.settings[1];if(!f||!f.history)return!1;var a;a=f.history;b=h.canonicalizeURL(b||n.location.href);b=f.hashquery?b:b.replace(/#.*/,"");a.data[b]&&(new Date).getTime()>a.data[b].expires&&m[h.name].removeCache(b);a.data[b]&&!a.data[b].data&&!a.data[b].XMLHttpRequest&&m[h.name].removeCache(b);return a.data[b]},g.removeCache=function(b){var f=
h.settings[1];if(!f||!f.history)return this;var a;a=f.history;b=h.canonicalizeURL(b||n.location.href);b=f.hashquery?b:b.replace(/#.*/,"");for(var f=0,e;e=a.order[f];f++)b===e&&(a.order.splice(f,1),a.size-=a.data[e].size,a.data[e]=null,delete a.data[e]);return this},g.clearCache=function(){var b=h.settings[1];if(!b||!b.history)return this;for(var b=b.history,f=b.order.length,a;a=b.order[--f];)b.order.splice(f,1),b.size-=b.data[a].size,delete b.data[a];return this},g.cleanCache=function(){var b=h.settings[1];
if(!b||!b.history)return this;for(var f=b.history,a=f.order.length,e;e=f.order[--a];)if(a>=b.cache.page||e in f.data&&(new Date).getTime()>f.data[e].expires)f.order.splice(a,1),f.size-=f.data[e].size,delete f.data[e];return this},g.follow=function(b,f,a){var e=h.settings[1];if(!e||!m.when||!h.check(b,e))return!1;isFinite(b.timeStamp)&&(f.timeStamp=a||b.timeStamp);e.xhr=f;m.when(f).done(function(){e.xhr&&4>e.xhr.readyState&&e.xhr.abort();m[h.name].setCache(b.currentTarget.href,D,D,f)}).fail(function(){h.fallback(b)});
m[h.name].click(b.currentTarget.href);return!0};return g},check:function(b,e){if(!h.disable){var g,r;g=m("<a/>",{href:h.canonicalizeURL(n.location.href)})[0];r=m("<a/>",{href:h.canonicalizeURL(b.currentTarget.href)})[0];if(m(b.currentTarget).filter(e.filter).length&&g.protocol===r.protocol&&g.host===r.host&&!(1<b.which||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey)&&(e=m.extend(!0,{},e),e.area=e.option.area,e=e.scope?h.scope(e,g.href,r.href):e)&&(e.area=h.fire(e.area,null,[b,e.parameter,r.href,g.href]),
e.areas=e.areas||h.chooseAreas(A,b,e.area),e.areaback=e.area,e.area=e.areas[0],e.area))return!0}},supportPushState:function(){return"pushState"in n.history&&n.history.pushState},registrate:function(b,e,g,h,f,a){var k=function(a){try{var d=a&&a('<html lang="en" class="html a b"><head><noscript><style>/**/</style></noscript></head><body><noscript>noscript</noscript></body></html>');return d&&b("html",d).is(".html[lang=en]")&&b("head>noscript",d).html()&&"noscript"===b("body>noscript",d).text()}catch(f){}};
f.createHTMLDocument=function(b){return e.DOMParser&&e.DOMParser.prototype&&(new e.DOMParser).parseFromString(b||"","text/html")};if(!k(f.createHTMLDocument)&&(f.createHTMLDocument=function(b){b=b||"";if(g.implementation&&g.implementation.createHTMLDocument){for(var a=g.implementation.createHTMLDocument(""),f=g.createElement("html"),e=(b.slice(0,1024).match(/<html ([^>]+)>/im)||[0,""])[1].match(/\w+\="[^"]*.|\w+\='[^']*.|\w+/gm)||[],h=0,k;k=e[h];h++)k=k.split("=",2),a.documentElement.setAttribute(k[0],
k[1].replace(/^["']|["']$/g,""));f.innerHTML=b.replace(/^.*?<html[^>]*>|<\/html>.*$/ig,"");a.documentElement.removeChild(a.head);for(a.documentElement.removeChild(a.body);element=f.childNodes[0];)a.documentElement.appendChild(element)}return a},!k(f.createHTMLDocument)&&(f.createHTMLDocument=function(b){b=b||"";if(g.implementation&&g.implementation.createHTMLDocument){var a=g.implementation.createHTMLDocument("");"object"===typeof a.activeElement&&(a.open(),a.write(b),a.close())}return a},!k(f.createHTMLDocument))))return;
a.id=1;f.ids.push(a.id);f.settings[a.id]=a;a.load.script&&b("script").each(function(){var e=this,d,e="function"===typeof a.load.rewrite?f.fire(a.load.rewrite,null,[e.cloneNode(!0)])||e:e;d=e.src;d in a.log.script||!d||a.load.reload&&b(e).is(a.load.reload)||(a.log.script[d]=!0)});a.database&&(f.database(),a.fix.scroll&&b(e).unbind(a.nss.scroll).bind(a.nss.scroll,a.id,function(a,d){var g=f.settings[1],h;if(g.scroll.delay){for(;h=g.scroll.queue.shift();)clearTimeout(h);h=setTimeout(function(){for(;h=
g.scroll.queue.shift();)clearTimeout(h);f.dbScroll(b(e).scrollLeft(),b(e).scrollTop())},g.scroll.delay);g.scroll.queue.push(h)}else f.dbScroll(b(e).scrollLeft(),b(e).scrollTop())}));a.link&&b(this).undelegate(a.link,a.nss.click).delegate(a.link,a.nss.click,a.id,f.click=function(a){a.timeStamp=(new Date).getTime();var d=f.settings[1];if(b(this).filter(d.filter).length&&(d.location.href=f.canonicalizeURL(e.location.href),d.destination.href=f.canonicalizeURL(this.href),!(f.disable||a.isDefaultPrevented()||
d.location.protocol!==d.destination.protocol||d.location.host!==d.destination.host||1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||!d.hashquery&&d.destination.hash&&d.location.href.replace(/#.*/,"")===d.destination.href.replace(/#.*/,"")))){var k,m;k=d.destination.href;d.timeStamp=a.timeStamp;d.landing&&(d.landing=!1);if(!d.cache.mix||!b[f.name].getCache(k))if(d=d.scope?f.scope(d,d.location.href,d.destination.href):d)if(d.area=f.fire(d.area,null,[a,d.parameter,d.destination.href,d.location.href]),
d.areas=d.areas||f.chooseAreas(g,a,d.area,d.parameter,d.destination.href,d.location.href),d.areaback=d.area,d.area=d.areas[0],d.area)return d.database&&f.dbScroll(b(e).scrollLeft(),b(e).scrollTop()),d.cache[a.type.toLowerCase()]&&(m=b[f.name].getCache(k)),f.drive(b,e,g,h,f,d,a,k,!0,m),a.preventDefault()}});a.form&&b(this).undelegate(a.form,a.nss.submit).delegate(a.form,a.nss.submit,a.id,f.submit=function(a){a.timeStamp=(new Date).getTime();var d=f.settings[1];d.location.href=f.canonicalizeURL(e.location.href);
d.destination.href=f.canonicalizeURL(this.action);if(!(f.disable||a.isDefaultPrevented()||d.location.protocol!==d.destination.protocol||d.location.host!==d.destination.host||1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){var k,m;k=d.destination.href=f.canonicalizeURL(d.destination.href.replace(/[?#].*/,"")+("GET"===a.target.method.toUpperCase()?"?"+b(a.target).serialize():""));d.timeStamp=a.timeStamp;d.landing&&(d.landing=!1);if(!d.cache.mix||!b[f.name].getCache(k))if(d=d.scope?f.scope(d,
d.location.href,d.destination.href):d)if(d.area=f.fire(d.area,null,[a,d.parameter,d.destination.href,d.location.href]),d.areas=d.areas||f.chooseAreas(g,a,d.area,d.parameter,d.destination.href,d.location.href),d.areaback=d.area,d.area=d.areas[0],d.area)return d.database&&f.dbScroll(b(e).scrollLeft(),b(e).scrollTop()),d.cache[a.type.toLowerCase()]&&d.cache[a.target.method.toLowerCase()]&&(m=b[f.name].getCache(k)),f.drive(b,e,g,h,f,d,a,k,!0,m),a.preventDefault()}});b(e).unbind(a.nss.popstate).bind(a.nss.popstate,
a.id,f.popstate=function(a){a.timeStamp=(new Date).getTime();var d=f.settings[1];d.destination.href=f.canonicalizeURL(e.location.href);if(!f.disable&&!a.isDefaultPrevented()){if(d.location.href===d.destination.href)return a.preventDefault();var k,m;if(d.location.hash!==d.destination.hash&&d.location.pathname+d.location.search===d.destination.pathname+d.destination.search&&!d.hashquery)return a.preventDefault();k=d.destination.href;d.timeStamp=a.timeStamp;if(d.landing){if(d.landing.href===k){d.landing=
!1;return}d.landing=!1}if(!d.cache.mix||!b[f.name].getCache(k))if(d=d.scope?f.scope(d,d.location.href,d.destination.href):d)if(d.area=f.fire(d.area,null,[a,d.parameter,d.destination.href,d.location.href]),d.areas=d.areas||f.chooseAreas(g,a,d.area,d.parameter,d.destination.href,d.location.href),d.areaback=d.area,d.area=d.areas[0],d.area)return d.database&&d.fix.history&&f.dbTitle(k),d.cache[a.type.toLowerCase()]&&(m=b[f.name].getCache(k)),f.drive(b,e,g,h,f,d,a,k,!1,m),a.preventDefault()}})},drive:function(b,
e,g,h,f,a,k,l,d,m){function w(a,b,f,e,g,c,h,k){a:{var m=c.speedcheck;m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire);m&&c.log.speed.name.push("load("+c.log.speed.time[c.log.speed.time.length-1]+")");var r=c.callbacks.update;if(!1!==g.fire(r.before,null,[h,c.parameter,u,v,q,k],c.callbacks.async)){if(c.cache.mix&&"popstate"!==h.type.toLowerCase()&&(new Date).getTime()-h.timeStamp<=c.cache.mix)return"function"===typeof c.fallback?g.fire(c.fallback,null,[h,c.parameter,c.destination.href,c.location.href]):
g.fallback(h);var p,w,n,s;try{c.xhr&&4>c.xhr.readyState&&c.xhr.abort();g.settings[c.id].xhr=c.xhr=null;if(!k&&!~(q.getResponseHeader("Content-Type")||"").toLowerCase().search(c.contentType))throw Error("throw: content-type mismatch");k&&!1!==g.fire(r.cache.load.before,null,[h,c.parameter,k],c.callbacks.async)&&(q=k.XMLHttpRequest||q,u=q.responseText,v=k.textStatus||v,n=k.css,s=k.script,g.fire(r.cache.load.after,null,[h,c.parameter,k],c.callbacks.async));k&&k.XMLHttpRequest||!c.cache.click&&!c.cache.submit&&
!c.cache.popstate||"submit"===h.type.toLowerCase()&&!c.cache[h.target.method.toLowerCase()]||!1===g.fire(r.cache.save.before,null,[h,c.parameter,k],c.callbacks.async)||(a[g.name].setCache(l,k&&k.data||null,v,q),k=a[g.name].getCache(l),g.fire(r.cache.save.after,null,[h,c.parameter,k],c.callbacks.async));var t,y,z,E;t=g.createHTMLDocument(q.responseText);var D=g.chooseAreas(t,h,c.areaback,c.parameter,c.destination.href,c.location.href);c.areas=a.map(c.areas,function(b){return~a.inArray(b,D)?b:null});
c.area=c.areas[0];if(!c.area||a(c.area).length!==a(c.area,t).length)throw Error("throw: area length mismatch");p=a("title",t).text();z=c.area.match(/(?:[^,\(\[]+|\(.*?\)|\[.*?\])+/g);if(k&&k.data){y=g.createHTMLDocument(k.data);for(var H=0,I,A,K;I=z[H++];){A=a(I,t);K=a(I,y);for(var F=0;x=K[F];F++)A.eq(F).html(a(x).contents())}}m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire);m&&c.log.speed.name.push("parse("+c.log.speed.time[c.log.speed.time.length-1]+")");a("noscript",t).children().parent().each(function(){this.children.length&&
a(this).text(this.innerHTML)});var B=a('head meta[http-equiv="Refresh"][content*="URL="]',t);if(B[0]&&!1!==g.fire(r.redirect.before,null,[h,c.parameter,u,v,q],c.callbacks.async)){B=a("<a>",{href:B.attr("content").match(/\w+:\/\/[^;\s]+/i)})[0];switch(!0){case !c.load.redirect:case B.protocol!==c.destination.protocol:case B.host!==c.destination.host:case "submit"===h.type.toLowerCase()&&"GET"===h.target.method.toUpperCase():switch(h.type.toLowerCase()){case "click":case "submit":return b.location.assign(B.href);
case "popstate":return b.location.replace(B.href)}default:switch(a[g.name].enable(),h.type.toLowerCase()){case "click":return a[g.name].click(B.href);case "submit":return"GET"===h.target.method.toUpperCase()?a[g.name].click(B):b.location.assign(B.href);case "popstate":return b.history.replaceState(b.history.state,p,B.href),d&&c.fix.location&&(a[g.name].disable(),b.history.back(),b.history.forward(),a[g.name].enable()),a(b).trigger("popstate")}}g.fire(r.redirect.after,null,[h,c.parameter,u,v,q],c.callbacks.async)}a(b).trigger(c.gns+
".unload");!1!==g.fire(r.url.before,null,[h,c.parameter,u,v,q],c.callbacks.async)&&(d&&l!==c.location.href&&b.history.pushState(g.fire(c.state,null,[h,c.parameter,c.destination.href,c.location.href]),b.opera||~b.navigator.userAgent.toLowerCase().indexOf("opera")?p:f.title,l),c.location.href=l,d&&c.fix.location&&(a[g.name].disable(),b.history.back(),b.history.forward(),a[g.name].enable()),g.fire(r.url.after,null,[h,c.parameter,u,v,q],c.callbacks.async));!1!==g.fire(r.title.before,null,[h,c.parameter,
u,v,q],c.callbacks.async)&&(f.title=p,c.database&&c.fix.history&&g.dbTitle(l,p),g.fire(r.title.after,null,[h,c.parameter,u,v,q],c.callbacks.async));c.database&&g.dbCurrent();if(!1!==g.fire(r.head.before,null,[h,c.parameter,u,v,q],c.callbacks.async)){var J=[],N=a("head").find(c.load.head).not('link[rel~="stylesheet"], style, script');w=a("head",t).find(c.load.head).not(a(c.area,t).find(c.load.head));w=a(w).not(c.load.reject).not('link[rel~="stylesheet"], style, script');for(var C,H=0,x;x=w[H];H++){x=
f.importNode?f.importNode(x,!0):x.cloneNode(!0);switch(x.tagName.toLowerCase()){case "base":C="base";break;case "link":C='link[rel="'+x.getAttribute("rel")+'"]';switch((x.getAttribute("rel")||"").toLowerCase()){case "alternate":C+="string"===typeof x.getAttribute("type")?'[type="'+x.getAttribute("type")+'"]':":not([type])"}break;case "meta":if(x.getAttribute("charset"))C="meta[charset]";else if(x.getAttribute("http-equiv"))C='meta[http-equiv="'+x.getAttribute("http-equiv")+'"]';else if(x.getAttribute("name"))C=
'meta[name="'+x.getAttribute("name")+'"]';else if(x.getAttribute("property"))C='meta[property="'+x.getAttribute("property")+'"]';else continue;break;default:C=null}J=w.filter(C);a("head").children().filter(C).not(c.load.reload).not('link[rel~="stylesheet"], style, script').filter(function(){var a=this,b;return!!J.filter(function(){b=this;return a.outerHTML===b.outerHTML?(J=J.not(b),N=N.not(a),!1):!0})[0]}).remove();a("head").prepend(J.map(function(){return a(this.outerHTML)[0]}))}N.not(c.load.reload).remove();
g.fire(r.head.after,null,[h,c.parameter,u,v,q],c.callbacks.async)}m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire);m&&c.log.speed.name.push("head("+c.log.speed.time[c.log.speed.time.length-1]+")");if(!1!==g.fire(r.content.before,null,[h,c.parameter,u,v,q],c.callbacks.async)){a(c.area).children("."+c.nss.class4html+"-check").remove();E=a("<div/>",{"class":c.nss.class4html+"-check",style:"background: none !important; display: block !important; visibility: hidden !important; position: absolute !important; top: 0 !important; left: 0 !important; z-index: -9999 !important; width: auto !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; font-size: 12px !important; text-indent: 0 !important;"}).text(c.gns);
for(H=0;I=z[H++];)for(A=a(I),K=a(I,t).clone().find("script").remove().end(),F=0;x=K[F];F++)A.eq(F).html(a(x).contents()).append(E.clone());E=a(c.area).children("."+c.nss.class4html+"-check");a(f).trigger(c.gns+".DOMContentLoaded");g.fire(r.content.after,null,[h,c.parameter,u,v,q],c.callbacks.async)}m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire);m&&c.log.speed.name.push("content("+c.log.speed.time[c.log.speed.time.length-1]+")");var O=function(f){if(!1!==g.fire(r.scroll.before,null,[h,c.parameter],
c.callbacks.async)){var d,e;switch(h.type.toLowerCase()){case "click":case "submit":d=f&&"function"===typeof c.scrollLeft?g.fire(c.scrollLeft,null,[h,c.parameter,c.destination.href,c.location.href]):c.scrollLeft;d=0<=d?d:0;d=!1===d||null===d?a(b).scrollLeft():parseInt(Number(d),10);e=f&&"function"===typeof c.scrollTop?g.fire(c.scrollTop,null,[h,c.parameter,c.destination.href,c.location.href]):c.scrollTop;e=0<=e?e:0;e=!1===e||null===e?a(b).scrollTop():parseInt(Number(e),10);a(b).scrollTop()===e&&a(b).scrollLeft()===
d||b.scrollTo(d,e);f&&c.database&&c.fix.scroll&&g.dbScroll(d,e);break;case "popstate":f&&c.database&&c.fix.scroll&&g.dbScroll()}g.fire(r.scroll.after,null,[h,c.parameter],c.callbacks.async)}},P=function(b){if(!1!==g.fire(r.rendering.before,null,[h,c.parameter],c.callbacks.async)){var f=0;(function(){E.filter(function(){return this.clientWidth||this.clientHeight||a(this).is(":hidden")}).length===E.length||100<=f?G(b):E.length&&(f++,setTimeout(arguments.callee,c.interval))})()}},G=function(f){m&&c.log.speed.time.push(c.speed.now()-
c.log.speed.fire);m&&c.log.speed.name.push("renderd("+c.log.speed.time[c.log.speed.time.length-1]+")");E.remove();c.scroll.record=!0;g.hashscroll("popstate"===h.type.toLowerCase())||O(!0);a(b).trigger(c.gns+".load");g.fire(f);m&&console.log(c.log.speed.time);m&&console.log(c.log.speed.name);g.fire(r.rendering.after,null,[h,c.parameter],c.callbacks.async)};a("noscript",t).remove();var M=function(f){if(c.load.script&&!1!==g.fire(r.script.before,null,[h,c.parameter,u,v,q],c.callbacks.async)){var d,e=
[];d=(k=a[g.name].getCache(l))&&!k.script;s=s||a("script",t);s=a(s).not(c.load.reject);k&&k.script&&s&&s.length!==k.script.length&&(d=!0);d&&(k.script=[]);for(var p=0,n;n=s[p];p++)n="function"===typeof c.load.rewrite?g.fire(c.load.rewrite,null,[n])||n:n,d&&(k.script[p]=n),!a(n).is(f)||!n.src&&!g.trim(n.innerHTML)||n.src in c.log.script||c.load.reject&&a(n).is(c.load.reject)||(c.load.reload&&a(n).is(c.load.reload)||(c.log.script[n.src]=!0),n&&e.push(n));for(p=0;n=e[p];p++)try{n.src?a.ajax(a.extend(!0,
{},c.ajax,c.load.ajax,{url:n.src,async:!!n.async,global:!1})):"object"!==typeof n||n.type&&!~n.type.toLowerCase().indexOf("text/javascript")||b.eval.call(b,(n.text||n.textContent||n.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|\-\-)/,"/*$0*/"))}catch(w){break}!1!==g.fire(r.script.after,null,[h,c.parameter,u,v,q],c.callbacks.async)&&(m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire),m&&c.log.speed.name.push(("[src][defer]"===f?"defer":"script")+"("+c.log.speed.time[c.log.speed.time.length-1]+
")"))}};g.fire(r.verify.before,null,[h,c.parameter],c.callbacks.async);var Q=g.canonicalizeURL(b.location.href).replace(/(?:%\w{2})+/g,function(a){return l.match(a.toLowerCase())||a});if(l===Q)c.retry=!0,c.area=c.option.area,c.areas=D;else if(c.retry)c.retry=!1,c.destination.href=Q,g.drive(a,b,f,e,g,c,h,c.destination.href,!1,c.cache[h.type.toLowerCase()]&&a[g.name].getCache(g.canonicalizeURL(b.location.href)));else throw Error("throw: location mismatch");g.fire(r.verify.after,null,[h,c.parameter],
c.callbacks.async);(function(b){if(c.load.css&&!1!==g.fire(r.css.before,null,[h,c.parameter,u,v,q],c.callbacks.async)){var d,e=[],p=a(b).not(a(c.area).find(b));d=(k=a[g.name].getCache(l))&&!k.css;n=n||a(b,t).not(a(c.area,t).find(b));n=a(n).not(c.load.reject);k&&k.css&&n&&n.length!==k.css.length&&(d=!0);d&&(k.css=[]);for(var w=0,s;s=n[w];w++){s=f.importNode?f.importNode(s,!0):s.cloneNode(!0);s="function"===typeof c.load.rewrite?g.fire(c.load.rewrite,null,[s])||s:s;d&&(k.css[w]=s);for(var x=0;p[x];x++)if(g.trim(p[x].href||
p[x].innerHTML||"")===g.trim(s.href||s.innerHTML||"")){e.length&&(s=p.eq(x).prevAll(b).first(),s[0]?s.after(e):p.eq(x).before(e),e=[]);p=p.not(p[x]);s=null;break}s&&e.push(s)}p[0]?p.last().after(e):a("head").append(e);p.not(c.load.reload).remove();!1!==g.fire(r.css.after,null,[h,c.parameter,u,v,q],c.callbacks.async)&&(m&&c.log.speed.time.push(c.speed.now()-c.log.speed.fire),m&&c.log.speed.name.push("css("+c.log.speed.time[c.log.speed.time.length-1]+")"))}})('link[rel~="stylesheet"], style');a(b).one(c.gns+
".rendering",function(b){b.preventDefault();b.stopImmediatePropagation();O(!1);a(f).trigger(c.gns+".ready");M(":not([defer]), :not([src])");c.load.sync?P(function(){M("[src][defer]")}):(P(),M("[src][defer]"))}).trigger(c.gns+".rendering");if(!1===g.fire(r.success,null,[h,c.parameter,u,v,q],c.callbacks.async))break a;if(!1===g.fire(r.complete,null,[h,c.parameter,u,v,q],c.callbacks.async))break a;if(!1===g.fire(c.callback,null,[h,c.parameter,u,v,q],c.callbacks.async))break a}catch(R){k&&a[g.name].removeCache(l);
if(!1===g.fire(r.error,null,[h,c.parameter,u,v,q],c.callbacks.async))break a;if(!1===g.fire(r.complete,null,[h,c.parameter,u,v,q],c.callbacks.async))break a;if(c.fallback)return"function"===typeof c.fallback?g.fire(c.fallback,null,[h,c.parameter,c.destination.href,c.location.href]):g.fallback(h)}g.fire(r.after,null,[h,c.parameter,u,v,q],c.callbacks.async)}}}var s=a.speedcheck;s&&(a.log.speed.fire=a.timeStamp);s&&(a.log.speed.time=[]);s&&(a.log.speed.name=[]);s&&a.log.speed.time.push(0);s&&a.log.speed.name.push("pjax("+
a.log.speed.time[a.log.speed.time.length-1]+")");a.scroll.record=!1;a.fix.reset&&/click|submit/.test(k.type.toLowerCase())&&e.scrollTo(b(e).scrollLeft(),0);if(!1!==f.fire(a.callbacks.before,null,[k,a.parameter],a.callbacks.async)){b[f.name].disable();if(m&&m.XMLHttpRequest)s&&a.log.speed.name.splice(0,1,"cache("+a.log.speed.time[a.log.speed.time.length-1]+")"),b.when?b.when(f.wait(f.fire(a.wait,null,[k,a.parameter,a.destination.href,a.location.href]))).done(function(){w(b,e,g,h,f,a,k,m)}):w(b,e,g,
h,f,a,k,m);else if(a.xhr&&a.xhr.promise)s&&a.log.speed.time.splice(0,1,a.xhr.timeStamp-a.log.speed.fire),s&&a.log.speed.name.splice(0,1,"preload("+a.log.speed.time[a.log.speed.time.length-1]+")"),s&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),s&&a.log.speed.name.push("continue("+a.log.speed.time[a.log.speed.time.length-1]+")"),s=a.wait&&isFinite(a.xhr.timeStamp)?Math.max(a.wait-(new Date).getTime()+a.xhr.timeStamp,0):0,b.when(a.xhr,f.wait(s)).done(function(){w(b,e,g,h,f,a,k,b[f.name].getCache(l))});
else{var p,n,u,q,v,z;p={};switch(k.type.toLowerCase()){case "click":p.type="GET";break;case "submit":p.type=k.target.method.toUpperCase();"POST"===p.type&&(p.data=b(k.target).serializeArray());break;case "popstate":p.type="GET"}n=b.when?b.Deferred():null;b.extend(!0,p,a.ajax,{xhr:a.callbacks.ajax.xhr?function(){q=f.fire(a.callbacks.ajax.xhr,this,[k,a.parameter],a.callbacks.async);return q="object"===typeof q&&q||b.ajaxSettings.xhr()}:h,beforeSend:function(b,d){q=b;a.xhr&&4>a.xhr.readyState&&a.xhr.abort();
a.xhr=q;q.setRequestHeader(a.nss.requestHeader,"true");q.setRequestHeader(a.nss.requestHeader+"-Area",a.area);q.setRequestHeader(a.nss.requestHeader+"-CSS",a.load.css);q.setRequestHeader(a.nss.requestHeader+"-Script",a.load.script);f.fire(a.callbacks.ajax.beforeSend,this,[k,a.parameter,q,d],a.callbacks.async)},dataFilter:a.callbacks.ajax.dataFilter?function(b,d){u=b;return f.fire(a.callbacks.ajax.dataFilter,this,[k,a.parameter,u,d],a.callbacks.async)||u}:h,success:function(b,d,e){u=b;v=d;q=e;f.fire(a.callbacks.ajax.success,
this,[k,a.parameter,u,v,q],a.callbacks.async)},error:function(b,d,e){q=b;v=d;z=e;f.fire(a.callbacks.ajax.error,this,[k,a.parameter,q,v,z],a.callbacks.async)},complete:function(d,l){q=d;v=l;f.fire(a.callbacks.ajax.complete,this,[k,a.parameter,q,v],a.callbacks.async);if(z){if(n&&n.reject(),a.fallback&&"abort"!==v)return"function"===typeof a.fallback?f.fire(a.fallback,null,[k,a.parameter,a.destination.href,a.location.href]):f.fallback(k)}else n&&n.resolve()||w(b,e,g,h,f,a,k,m)}});var y=a.server.query;
y&&(y=y.split("="),y=encodeURIComponent(y[0])+(0<y.length?"="+encodeURIComponent(y[1]):""));p.url=l.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(y?(l.match(/\?/)?"&":"?")+y:"")+"$2");s&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);s&&a.log.speed.name.push("request("+a.log.speed.time[a.log.speed.time.length-1]+")");b.when&&b.when(n.promise(),f.wait(f.fire(a.wait,null,[k,a.parameter,a.destination.href,a.location.href]))).done(function(){w(b,e,g,h,f,a,k,m)});b.ajax(p)}b[f.name].enable();f.fire(a.callbacks.after,
null,[k,a.parameter],a.callbacks.async)}},canonicalizeURL:function(b){var e;e=h.trim(b);e=e.replace(/["`^|\\<>{}\[\]\s].*/,"");e=/^https?:/i.test(e)?e:m("<a/>",{href:e})[0].href;e=encodeURI(decodeURI(e));return e=e.replace(/(?:%\w{2})+/g,function(e){return b.match(e.toLowerCase())||e})},trim:function(b){if(String.prototype.trim)b=String(b).trim();else if(b=String(b).replace(/^[\s\uFEFF\xA0]+/,""))for(var e=b.length;--e;)if(/[^\s\uFEFF\xA0]/.test(b.charAt(e))){b=b.substring(0,e+1);break}return b},
chooseAreas:function(b,e,g){g=g instanceof Array?g:[g];return g=m.map(g,function(e){return m(e,b)[0]?e:null})},fire:function(b,e,g,h){return"function"===typeof b?h?setTimeout(function(){b.apply(e,g)},0):b.apply(e,g):b},hashscroll:function(b){var e=h.settings[1].destination.hash.slice(1);return!(b||!e)&&m("#"+(e?e:", [name~="+e+"]")).first().each(function(){isFinite(m(this).offset().top)&&n.scrollTo(m(n).scrollLeft(),parseInt(Number(m(this).offset().top),10))}).length},wait:function(b){var e=m.Deferred();
if(!b)return e.resolve();setTimeout(function(){e.resolve()},b);return e.promise()},fallback:function(b){switch(b.type.toLowerCase()){case "click":n.location.assign(b.currentTarget.href);break;case "submit":b.target.submit();break;case "popstate":n.location.reload()}},scope:function(b,e,g,n){var f,a,k,l,d,t,w,s,p,A,u,q,v;f=[].slice.call(arguments);f.splice(1,1,e||b.location.href);f.splice(2,1,g||b.destination.href);a=b.scope;e=(e||b.location.href).replace(/.+?\w(\/[^#?]*).*/,"$1");g=(g||b.destination.href).replace(/.+?\w(\/[^#?]*).*/,
"$1");k=e.replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");d=(n||e).replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");if(n){if(!~n.indexOf("*"))return D;l=[];for(var z=0,y=d.length;z<y;z++)"*"===d[z]&&l.push(k[z])}for(z=d.length+1;z--;)if(p=A=u=q=D,k=d.slice(0,z).join("/").replace(/\/([?#])/g,"$1"),(k="/"+k+("/"===(n||e).charAt(k.length+1)?"/":""))&&k in a){if(!a[k]||!a[k].length)return!1;for(var G=0;(t=a[k][G])&&!1!==u&&!1!==q;G++)if("rewrite"!==t||"function"!==typeof a.rewrite||n)if("inherit"===
t)A=!0;else if("string"===typeof t){t=(w="^"===t.charAt(0))?t.slice(1):t;t=(s="*"===t.charAt(0))?t.slice(1):t;if(n&&~t.indexOf("/*/"))for(var L=0,y=l.length;L<y;L++)t=t.replace("/*/","/"+l[L]+"/");if(!(!w&&u||(s?e.search(t):e.indexOf(t)))){if(w)return!1;u=!0}if(!(!w&&q||(s?g.search(t):g.indexOf(t)))){if(w)return!1;q=!0}}else"object"===typeof t&&(v=t);else if(f.push(h.fire(a.rewrite,null,[g])),p=arguments.callee.apply(this,f)){u=q=!0;break}else if(!1===p)return!1;if(u&&q)return m.extend(!0,{},b,("object"===
typeof p?p:v)||{});if(!A)break}},database:function(b){var e=h.settings[1],g,r,f,a,k,l;g=e.gns;r=1;f=Math.floor((new Date).getTime()/864E5);a=h.IDBFactory;k=h.IDBDatabase;b=b||0;e.database=!1;if(!a||!g||5<b)return!1;try{var d=function(d){h.IDBDatabase=null;k&&k.close&&k.close();a.deleteDatabase(g);d?setTimeout(function(){h.database(++b)},d):h.database(++b)};r=parseInt(f-f%7+r,10);k=a.open(g);k.onblocked=function(){};k.onupgradeneeded=function(){var a=this.result;try{for(var b=a.objectStoreNames?a.objectStoreNames.length:
0;b--;)a.deleteObjectStore(a.objectStoreNames[b]);a.createObjectStore(e.gns,{keyPath:"id",autoIncrement:!1}).createIndex("date","date",{unique:!1})}catch(d){}};k.onsuccess=function(){try{k=this.result,h.IDBDatabase=k,(l=h.dbStore())?l.get("_version").onsuccess=function(){this.result&&r!==this.result.title?d():(h.dbVersion(r),h.dbCurrent(),h.dbTitle(e.location.href,A.title),h.dbScroll(m(n).scrollLeft(),m(n).scrollTop()),e.database=!0)}:d()}catch(a){d(1E3)}};k.onerror=function(a){d(1E3)}}catch(t){d(1E3)}},
dbStore:function(){for(var b=h.settings[1],e=h.IDBDatabase,g=e&&e.objectStoreNames?e.objectStoreNames.length:0;g--;)if(b.gns===e.objectStoreNames[g])return e&&e.transaction&&e.transaction(b.gns,"readwrite").objectStore(b.gns);return!1},dbCurrent:function(){var b=h.settings[1],e=h.dbStore();if(e){var g;g=h.canonicalizeURL(n.location.href);g=b.hashquery?g:g.replace(/#.*/,"");e.put({id:"_current",title:g})}},dbVersion:function(b){var e=h.dbStore();e&&e.put({id:"_version",title:b})},dbTitle:function(b,
e){var g=h.settings[1],n=h.dbStore();n&&(b=g.hashquery?b:b.replace(/#.*/,""),e?n.get(b).onsuccess=function(){n.put(m.extend(!0,{},this.result||{},{id:b,title:e,date:(new Date).getTime()}));h.dbClean()}:n.get(b).onsuccess=function(){this.result&&this.result.title&&(A.title=this.result.title)})},dbScroll:function(b,e){var g=h.settings[1],r=h.dbStore(),f=g.location.href,a=arguments.length;g.scroll.record&&r&&(f=g.hashquery?f:f.replace(/#.*/,""),r.get("_current").onsuccess=function(){this.result&&this.result.title&&
f===this.result.title&&(a?r.get(f).onsuccess=function(){r.put(m.extend(!0,{},this.result||{},{scrollX:parseInt(Number(b),10),scrollY:parseInt(Number(e),10)}))}:r.get(f).onsuccess=function(){this.result&&isFinite(this.result.scrollX)&&isFinite(this.result.scrollY)&&n.scrollTo(parseInt(Number(this.result.scrollX),10),parseInt(Number(this.result.scrollY),10))})})},dbClean:function(){var b=h.dbStore();b.count().onsuccess=function(){1E3<this.result&&(b.index("date").openCursor(h.IDBKeyRange.upperBound((new Date).getTime()-
2592E5)).onsuccess=function(){var e=this.result;e?(e["delete"](e.value.id),e["continue"]()):b.count().onsuccess=function(){1E3<this.result&&b.clear()}})}}};(function(b,e,g,h,f){b.fn[f.name]=b[f.name]=function(){return G.apply(this,[b,e,g,h,f].concat([].slice.call(arguments)))};f.setProperties.call(b[f.name])}).apply(this,[].slice.call(arguments).concat([h]))})(jQuery,window,document,void 0);
