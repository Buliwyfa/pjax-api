/*
 * 
 * pjax
 * 
 * ---
 * @Copyright(c) 2012, falsandtru
 * @license MIT  http://opensource.org/licenses/mit-license.php  http://sourceforge.jp/projects/opensource/wiki/licenses%2FMIT_license
 * @version 1.21.3
 * @updated 2013/10/25
 * @author falsandtru https://github.com/falsandtru/
 * @Compressor Closure Compiler
 */
(function(d){var y,w,f=window,D=document,x=void 0,v=["settings"],E;d.fn.pjax=d.pjax=function(t){function R(a){S();b.load.script&&d("script").each(function(){var a=this,a="function"===typeof b.load.rewrite?g(b.load.rewrite,null,[a.cloneNode()])||a:a,a=a.src;!a||a in b.log.script||(b.log.script[a]=!0)});b.link&&d(a).undelegate(b.link,b.nss.click).delegate(b.link,b.nss.click,b.id,y=function(a){var c=v[1];a.timeStamp=(new Date).getTime();if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)&&f.location.protocol===
this.protocol&&f.location.host===this.host){var b,h;if(c.location.href===this.href)return!1;if(!g(c.hashquery,null,[a,b])&&c.location.pathname+c.location.search===this.pathname+this.search)return c.hashclick=!0;b=this.href;c.area=g(c.options.area,null,[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(!c.disable&&d(c.area).length&&(!c.scope||I(c.scope,f.location.href,b)))return c.cache[a.type.toLowerCase()]&&(h=B(b)),F(c,a,b,!0,h),!1}});b.form&&d(a).undelegate(b.form,b.nss.submit).delegate(b.form,
b.nss.submit,b.id,w=function(a){var c=v[1];a.timeStamp=(new Date).getTime();if(!(1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)){var b,h;b=this.action+("GET"===a.target.method.toUpperCase()?"?"+d(a.target).serialize():"");c.area=g(c.options.area,null,[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;c.landing&&(c.landing=!1);if(!c.disable&&d(c.area).length&&(!c.scope||I(c.scope,f.location.href,b)))return c.cache[a.type.toLowerCase()]&&c.cache[a.target.method.toLowerCase()]&&(h=B(b)),F(c,a,b,!0,
h),!1}});d(f).unbind(b.nss.popstate).bind(b.nss.popstate,b.id,function(a){var c=v[1];a.timeStamp=(new Date).getTime();var b,h;if(c.location.href===this.href)return!1;if(!g(c.hashquery,null,[a,b])&&c.location.pathname+c.location.search===f.location.pathname+f.location.search)return c.hashclick=c.hashclick&&!!M()&&!1;b=f.location.href;c.area=g(c.options.area,null,[a,b]);c.hashclick=!1;c.timestamp=a.timeStamp;if(c.landing){if(c.landing===f.location.href){c.landing=!1;return}c.landing=!1}if(!c.disable&&
d(c.area).length)return c.database&&c.fix.history&&J(b),c.cache[a.type.toLowerCase()]&&(h=B(b)),F(c,a,b,!1,h),!1});b.database&&b.fix.scroll&&d(f).unbind(b.nss.scroll).bind(b.nss.scroll,b.id,function(a,c){var b=v[1],h,g=arguments.callee;if(b.scroll.delay){for(;h=b.scroll.queue.shift();)clearTimeout(h);h=setTimeout(function(){for(;h=b.scroll.queue.shift();)clearTimeout(h);K(d(f).scrollLeft(),d(f).scrollTop())},b.scroll.delay);b.scroll.queue.push(h)}else K(d(f).scrollLeft(),d(f).scrollTop());b.scroll.suspend&&
!c&&(d(this).unbind(b.nss.scroll),setTimeout(function(){b.database&&b.fix.scroll&&d(f).bind(b.nss.scroll,b.id,g).trigger(b.nss.scroll,[!0])},b.scroll.suspend))})}function F(a,m,c,b,h){function u(a,e){var l=a.validate?a.validate.clone({name:"jquery.pjax.js - update()"}):!1;l&&l.start();l&&(l.scope=function(a){return eval(a)});l&&l.test("1",1,0,"update()");l&&l.test("++",1,0,"start");a:if(a.speedcheck&&a.log.speed.name.push("update"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),
!1!==g(a.callbacks.update.before,null,[m,a.parameter,r,p,n],a.callbacks.async)){var h=window,u=document,f,k,q;try{l&&l.test("++",1,0,"try");l&&l.test("++",1,e?0:[a.contentType,n.getResponseHeader("Content-Type")],"content-type");if(!e&&-1===n.getResponseHeader("Content-Type").toLowerCase().search(a.contentType))throw Error("throw: content-type mismatch");l&&l.test("++",e?"'usable'":"'unusable'",0,"cache");e&&!1!==g(a.callbacks.update.cache.load.before,null,[m,a.parameter,e],a.callbacks.async)&&(n=
e.XMLHttpRequest,r=n.responseText,p=e.textStatus,f=e.title,k=e.css,q=e.script,g(a.callbacks.update.cache.load.after,null,[m,a.parameter,e],a.callbacks.async));l&&l.test("++",1,0,"initialize");var z=d(r),C=!!f||0<z.filter("title").length,t=a.area.replace(/(\((.*?(\(.*?\).*?)?)*?\)|\S)(,|$)/g,function(a,c,m,b,d){return c+(d?"|":"")}).split(/\s*\|(?!=)\s*/);f=f||C?z.filter("title").text():d("<span/>").html(L(r,/<title>([^<]*?)<\/title>/i).join()).text();if(!d(a.area).length||!z.find(a.area).add(z.filter(a.area)).length)throw Error("throw: area length mismatch");
l&&l.test("++",1,c,"url");!1!==g(a.callbacks.update.url.before,null,[m,a.parameter,r,p,n],a.callbacks.async)&&(b&&c!==h.location.href&&h.history.pushState(g(a.state,null,[m,c]),h.opera||-1!==h.navigator.userAgent.toLowerCase().indexOf("opera")?f:u.title,c),a.location.href=c,b&&a.fix.location&&/Mobile(\/\w+)? Safari/i.test(h.navigator.userAgent)&&(E.off(),h.history.back(),h.history.forward(),E.on()),g(a.callbacks.update.url.after,null,[m,a.parameter,r,p,n],a.callbacks.async));l&&l.test("++",1,f,"title");
!1!==g(a.callbacks.update.title.before,null,[m,a.parameter,r,p,n],a.callbacks.async)&&(u.title=f,a.database&&a.fix.history&&J(c,f),g(a.callbacks.update.title.after,null,[m,a.parameter,r,p,n],a.callbacks.async));a.database&&N();l&&l.test("++",1,0,"scroll");var v=function(c){var b;switch(m.type.toLowerCase()){case "click":case "submit":b=c&&"function"===typeof a.scrollLeft?g(a.scrollLeft,null,[m]):a.scrollLeft;b=0<=b?b:0;b=null===b?d(h).scrollLeft():parseInt(Number(b));c=c&&"function"===typeof a.scrollTop?
g(a.scrollTop,null,[m]):a.scrollTop;c=0<=c?c:0;c=null===c?d(h).scrollTop():parseInt(Number(c));d(h).scrollTop()===c&&d(h).scrollLeft()===b||h.scrollTo(b,c);break;case "popstate":a.database&&a.fix.scroll&&K()}};v(!1);l&&l.test("++",1,t,"content");if(!1!==g(a.callbacks.update.content.before,null,[m,a.parameter,r,p,n],a.callbacks.async)){d(a.area).children("."+a.nss.class4html+"-check").remove();for(var u=0,H;H=t[u];u++)d(H).html(z.find(H).add(z.filter(H)).contents()).append(d("<div/>",{"class":a.nss.class4html+
"-check",style:"display: block !important; visibility: hidden !important; width: auto !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; position: absolute !important; top: -9999px !important; left: -9999px !important; font-size: 12px !important; text-indent: 0 !important;"}).text("pjax"));d(document).trigger(a.gns+".DOMContentLoaded");g(a.callbacks.update.content.after,null,[m,a.parameter,r,p,n],a.callbacks.async)}l&&l.test("++",1,0,"css");var D=
function(){var b=a.validate?a.validate.clone({name:"jquery.pjax.js - load_css()"}):!1;b&&b.start();b&&(b.scope=function(a){return eval(a)});if(!1!==g(a.callbacks.update.css.before,null,[m,a.parameter,r,p,n],a.callbacks.async)){var h;h=(e=e||B(c))&&!e.css;k=k?k:C?z.find('link[rel~="stylesheet"], style').add(z.filter('link[rel~="stylesheet"], style')).get():d(L(r,/(<link[^>]*?rel=.[^"\']*?stylesheet[^>]*?>|<style[^>]*?>(?:.|[\n\r])*?<\/style>)/gim));e&&e.css&&k&&k.length!==e.css.length&&(h=!0);h&&(e.css=
C?k:[]);d('link[rel~="stylesheet"], style').filter(function(){return d.data(this,a.nss.data,!0)});for(var l=0,f,u=d('link[rel~="stylesheet"]'),A=d("style"),q;f=k[l];l++){q=!1;f=C?f:d(f)[0];f="function"===typeof a.load.rewrite?g(a.load.rewrite,null,[f.cloneNode()])||f:f;h&&!C&&(e.css[l]=f);switch(f.tagName.toLowerCase()){case "link":if(u.filter(function(){if(q||this.href!==f.href)return!1;q=!0;d.removeData(this,a.nss.data);return!0}).length)continue;break;case "style":if(A.filter(function(){if(q||
!d.data(this,a.nss.data)||this.innerHTML!==f.innerHTML)return!1;q=!0;d.removeData(this,a.nss.data);return!0}).length)continue}d("head").append(f);f=null}d('link[rel~="stylesheet"], style').filter(function(){return d.data(this,a.nss.data)}).remove();d(document).trigger(a.gns+".ready");!1!==g(a.callbacks.update.css.after,null,[m,a.parameter,r,p,n],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("css"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}b&&b.end()};a.load.css&&
setTimeout(function(){D()},a.load.async||0);!a.load.css&&d(document).trigger(a.gns+".ready");l&&l.test("++",1,0,"script");var y=function(b){var h=a.validate?a.validate.clone({name:"jquery.pjax.js - load_script()"}):!1;h&&h.start();h&&(h.scope=function(a){return eval(a)});if(!1!==g(a.callbacks.update.script.before,null,[m,a.parameter,r,p,n],a.callbacks.async)){var f,l=[];f=(e=e||B(c))&&!e.script;q=q?q:C?z.find("script").add(z.filter("script")).get():L(r,/(?:[^\'\"]|^\s*?)(<script[^>]*?>(?:.|[\n\r])*?<\/script>)(?:[^\'\"]|\s*?$)/gim);
e&&e.script&&q&&q.length!==e.script.length&&(f=!0);f&&(e.script=C?q:[]);for(var u=0,k,A,s;k=q[u];u++)k=C?k:d(k)[0],k="function"===typeof a.load.rewrite?g(a.load.rewrite,null,[k.cloneNode()])||k:k,f&&!C&&(e.script[u]=k),A=k.src,s=k.defer,"sync"===b&&!s||"async"===b&&s||A&&A in a.log.script||(A&&(a.log.script[A]=!0),d.when?(s=d.Deferred(),A?d.ajax(d.extend(!0,{},a.ajax,{url:A,textStatus:"script",async:!1,global:!1,complete:s.resolve})):s.resolve(a.load.execute?k:x),l.push(s)):d("head").append(k),k=
null);d.when&&l.length&&d.when.apply(null,l).always(function(){for(var a=0,c;c=arguments[a];a++)"object"===typeof c&&!c.src&&(!c.type||-1<c.type.toLowerCase().indexOf("text/javascript"))&&eval((c.text||c.textContent||c.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|\-\-)/,"/*$0*/"))});!1!==g(a.callbacks.update.script.after,null,[m,a.parameter,r,p,n],a.callbacks.async)&&(a.speedcheck&&"async"===b&&a.log.speed.name.push("script"),a.speedcheck&&"async"===b&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire))}h&&
h.end()};a.load.script&&setTimeout(function(){y("async")},a.load.async||0);a.load.script&&!a.load.sync&&setTimeout(function(){y("sync")},a.load.async||0);l&&l.test("++",1,0,"rendering");setTimeout(function(){var c=d(a.area).children("."+a.nss.class4html+"-check");c.filter(function(){return this.clientWidth||d(this).is(":hidden")}).length===c.length?!1!==g(a.callbacks.update.rendering.before,null,[m,a.parameter],a.callbacks.async)&&(c.remove(),a.load.script&&a.load.sync&&setTimeout(function(){y("sync")},
a.load.async||0),M("popstate"===m.type.toLowerCase())||v(!0),d(window).trigger(a.gns+".load"),!1!==g(a.callbacks.update.rendering.after,null,[m,a.parameter],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("rendering"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),a.speedcheck&&console.log(a.log.speed.time),a.speedcheck&&console.log(a.log.speed.name))):c.length&&setTimeout(function(){arguments.callee()},a.interval)},0);l&&l.test("++",1,0,"cache");e||!(a.cache.click||
a.cache.submit||a.cache.popstate)||"submit"===m.type.toLowerCase()&&!a.cache[m.target.method.toLowerCase()]||!1===g(a.callbacks.update.cache.save.before,null,[m,a.parameter,e],a.callbacks.async)||(G(c,f,s,p,n),g(a.callbacks.update.cache.save.after,null,[m,a.parameter,e],a.callbacks.async));l&&l.test("++",1,0,"verify");if(!1!==g(a.callbacks.update.verify.before,null,[m,a.parameter],a.callbacks.async)){if(c===h.location.href)a.retry=!0;else if(a.retry)a.retry=!1,F(a,m,h.location.href,!1,a.cache[m.type.toLowerCase()]&&
B(h.location.href));else throw Error("throw: location mismatch");g(a.callbacks.update.verify.after,null,[m,a.parameter],a.callbacks.async)}if(!1===g(a.callbacks.update.success,null,[m,a.parameter,r,p,n],a.callbacks.async))break a;if(!1===g(a.callbacks.update.complete,null,[m,a.parameter,r,p,n],a.callbacks.async))break a;if(!1===g(a.callback,null,[m,a.parameter,r,p,n],a.callbacks.async))break a;l&&l.test("++",1,0,"success")}catch(w){l&&l.test("++",!String(w.message).indexOf("throw:"),w,"catch");l&&
l.test("++",!("throw: location mismatch"===w.message&&c!==h.location.href),[c,h.location.href],"!( err.message === 'throw: location mismatch' && url !== win.location.href )");e&&G(c);if(!1===g(a.callbacks.update.error,null,[m,a.parameter,r,p,n],a.callbacks.async))break a;if(!1===g(a.callbacks.update.complete,null,[m,a.parameter,r,p,n],a.callbacks.async))break a;l&&l.test("++",1,[c,h.location.href],"error");if(a.fallback)return"function"===typeof a.fallback?g(a.fallback,null,[m,c]):O(m,l)}!1!==g(a.callbacks.update.after,
null,[m,a.parameter,r,p,n],a.callbacks.async)&&(a.speedcheck&&a.log.speed.name.push("ready"),a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire),l&&l.test("++",1,0,"end"),l&&l.end())}}var e=a.validate?a.validate.clone({name:"jquery.pjax.js - drive()"}):!1;e&&e.start();e&&(e.scope=function(a){return eval(a)});e&&e.test("++",1,[c,m.type],"drive()");a.speedcheck&&(a.log.speed.fire=a.timestamp);a.speedcheck&&(a.log.speed.time=[]);a.speedcheck&&(a.log.speed.name=[]);a.speedcheck&&a.log.speed.name.push("fire");
a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);e&&e.test("++",1,0,"start");if(!1!==g(a.callbacks.before,null,[m,a.parameter],a.callbacks.async))if(h)e&&e.test("++",1,0,"update"),d.when?d.when(P(a.wait)).done(function(){u(a,h)}):u(a,h),e&&e.test("++",1,0,"end"),e&&e.end();else{e&&e.test("++",1,0,"initialize");var r,n,p,k,s,q={};switch(m.type.toLowerCase()){case "click":e&&e.test("++",1,0,"event click");q.type="GET";break;case "submit":e&&e.test("++",1,m.target.method,"event submit");
q.type=m.target.method.toUpperCase();"POST"===q.type&&(q.data=d(m.target).serializeArray());break;case "popstate":e&&e.test("++",1,0,"event popstate"),q.type="GET"}e&&e.test("++",1,0,"setting");d.extend(!0,q,a.ajax,{xhr:a.callbacks.ajax.xhr?function(){n=g(a.callbacks.ajax.xhr,null,[m,a.parameter],a.callbacks.async);return n=n instanceof Object&&n instanceof f.XMLHttpRequest?n:n||d.ajaxSettings.xhr()}:x,beforeSend:function(c,b){n=c;a.xhr&&4>a.xhr.readyState&&a.xhr.abort();a.xhr=n;n.setRequestHeader(a.nss.requestHeader,
"true");n.setRequestHeader(a.nss.requestHeader+"-Area",a.area);n.setRequestHeader(a.nss.requestHeader+"-CSS",a.load.css);n.setRequestHeader(a.nss.requestHeader+"-Script",a.load.script);g(a.callbacks.ajax.beforeSend,null,[m,a.parameter,n,b],a.callbacks.async)},dataFilter:a.callbacks.ajax.dataFilter?function(c,b){r=c;return g(a.callbacks.ajax.dataFilter,null,[m,a.parameter,r,b],a.callbacks.async)||r}:x,success:function(c,b,e){r=c;p=b;n=e;g(a.callbacks.ajax.success,null,[m,a.parameter,r,p,n],a.callbacks.async);
!d.when&&u(a)},error:function(b,d,e){n=b;p=d;k=e;(b=a.validate?a.validate.clone({name:"jquery.pjax.js - drive()"}):!1)&&b.start();b&&b.test("++",1,[c,f.location.href,n,p,k],"ajax error");g(a.callbacks.ajax.error,null,[m,a.parameter,n,p,k],a.callbacks.async);if(a.fallback&&"abort"!==p)return"function"===typeof a.fallback?g(a.fallback,null,[m,c]):O(m,b);b&&b.end()},complete:a.callbacks.ajax.complete?function(c,b){n=c;p=b;g(a.callbacks.ajax.complete,null,[m,a.parameter,n,p],a.callbacks.async)}:x});q.url=
c.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(a.server.query?(c.match(/\?/)?"&":"?")+encodeURIComponent(a.server.query)+"=1":"")+"$2");e&&e.test("++",1,0,"ajax");a.speedcheck&&a.log.speed.name.push("request");a.speedcheck&&a.log.speed.time.push(a.speed.now()-a.log.speed.fire);d.when?d.when(d.ajax(q),P(a.wait)).done(function(){u(a)}).fail().always():d.ajax(q);!1!==g(a.callbacks.after,null,[m,a.parameter],a.callbacks.async)&&(e&&e.test("++",1,0,"end"),e&&e.end())}}function g(a,b,c,d){return"function"===typeof a?
d?setTimeout(function(){a.apply(b,c)},0):a.apply(b,c):a}function M(a){return!a&&d(f.location.hash+", [name="+f.location.hash+"]").first().each(function(){isFinite(d(this).offset().top)&&f.scrollTo(d(f).scrollLeft(),parseInt(Number(d(this).offset().top)))}).length}function P(a){var b=d.Deferred();if(!a)return b.resolve();setTimeout(function(){b.resolve()},a);return b.promise()}function O(a,b){b&&b.test("++",1,0,"fallback()");b&&b.end();"click"===a.type.toLowerCase()?f.location.href=a.currentTarget.href:
"submit"===a.type.toLowerCase()?a.target.submit():"popstate"===a.type.toLowerCase()&&f.location.reload()}function L(a,b){var c=[];a.replace(b,function(a,b){c.push(b)});return c}function I(a,b,c,d){var h,f,e,g,n,p,k,s,q,t,v;e=h=document.createElement("a");e.href=b;e=e.pathname+e.search+e.hash;h.href=c;h=h.pathname+h.search+h.hash;if(h===e)return!0;f=e.replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");n=(d||e).replace(/^\//,"").replace(/([?#])/g,"/$1").split("/");if(d){if(-1===d.indexOf("*"))return x;
g=[];for(var l=n.length;l--;)"*"===n[l]&&g.unshift(f[l])}for(l=n.length+1;l--;)if(q=t=v=!1,f=n.slice(0,l).join("/").replace(/\/([?#])/g,"$1"),(f="/"+f+("/"===(d||e).charAt(f.length+1)?"/":""))&&f in a){if(!a[f]||!a[f].length)return!1;for(var y=0;p=a[f][y];y++)if(d||"rewrite"!==p||"function"!==typeof a.rewrite)if("inherit"===p)q=!0;else{p=(k="^"===p.charAt(0))?p.slice(1):p;p=(s="*"===p.charAt(0))?p.slice(1):p;if(d&&-1!==p.indexOf("/*/"))for(var w=0,B=g.length;w<B;w++)p=p.replace("/*/","/"+g[w]+"/");
if(!(!k&&t||(s?e.search(p):e.indexOf(p)))){if(k)return!1;t=!0}if(!(!k&&v||(s?h.search(p):h.indexOf(p)))){if(k)return!1;v=!0}}else if(p=I(a,b,c,a.rewrite.apply(null,[c])))t=v=!0;else if(!1===p)return!1;if(t&&v)return!0;if(!q)return x}}function G(a,d,c,f,h){var g=b.history;a=b.hashquery?a:a.replace(/#.*/,"");switch(!0){case 1===arguments.length:for(var e=0,k;k=g.order[e];e++)a===k&&(g.order.splice(e,1),g.size-=g.data[k].size,g.data[k]=null,delete g.data[k]);break;case h instanceof Object:g.order.unshift(a);
for(e=1;k=g.order[e];e++)a===k&&g.order.splice(e,1);if(g.data[a])break;if(g.size>g.config.size){e=b.history;k=e.order.length;for(var n;n=e.order[--k];)if(k>=e.config.length||b.timestamp>e.data[n].timestamp+e.config.expire)e.order.splice(k,1),e.size-=e.data[n].size,delete e.data[n]}c=parseInt(c||1.8*h.responseText.length);g.size=g.size||0;g.size+=c;g.data[a]={XMLHttpRequest:h,textStatus:f,title:d,size:c,timestamp:(new Date).getTime()};break;default:return!1}return!0}function B(a){var d=b.history;a=
b.hashquery?a:a.replace(/#.*/,"");d.data[a]&&b.timestamp>d.data[a].timestamp+d.config.expire&&G(a);return d.data[a]}function S(){var a=b.database,d=b.gns,c,g=Math.floor(b.timestamp/864E5);if(!a||!d)return!1;a=a.open(d,g-g%7+2);a.onupgradeneeded=function(){for(var a=this.result,b=0,e=a.objectStoreNames.length;b<e;b++)a.deleteObjectStore(a.objectStoreNames[b]);c=a.createObjectStore(d,{keyPath:"id",autoIncrement:!1});c.createIndex("date","date",{unique:!1})};a.onsuccess=function(){b.database=this.result;
N();J(f.location.href,D.title)};a.onerror=function(){b.database=!1}}function N(){var a="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);a&&a.put({id:"current",title:f.location.href})}function J(a,f){var c="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns);c&&(f?c.get(a).onsuccess=function(){c.put(d.extend(!0,{},this.result||{},{id:a,title:f,date:b.timestamp}));T(c)}:c.get(a).onsuccess=function(){this.result&&this.result.title&&
(D.title=this.result.title)})}function K(a,m){var c="object"===typeof b.database&&b.database.transaction(b.gns,"readwrite").objectStore(b.gns),g=f.location.href,h=D.title,k=arguments.length;c&&(c.get("current").onsuccess=function(){this.result&&this.result.title&&g===this.result.title&&(k?c.get(g).onsuccess=function(){c.put(d.extend(!0,{},this.result||{},{title:h,scrollX:parseInt(Number(a)),scrollY:parseInt(Number(m))}))}:c.get(g).onsuccess=function(){this.result&&isFinite(this.result.scrollX)&&isFinite(this.result.scrollY)&&
f.scrollTo(parseInt(Number(this.result.scrollX)),parseInt(Number(this.result.scrollY)))})})}function T(a){var d=f.IDBKeyRange||f.webkitIDBKeyRange||f.mozIDBKeyRange||f.msIDBKeyRange;a.count().onsuccess=function(){1E3<this.result&&(a.index("date").openCursor(d.upperBound(b.timestamp-2592E5)).onsuccess=function(){var b=this.result;b?(b["delete"](b.value.id),b["continue"]()):a.count().onsuccess=function(){1E3<this.result&&a.clear()}})}}function Q(a,b,c){var f;switch(!0){case b===x:f=d.falsandtru[a];
break;case c===x:f=a in d.falsandtru?d.falsandtru[a][b]:x;break;case c!==x:d.falsandtru[a]instanceof Object||(d.falsandtru[a]={}),d.falsandtru[a][b]instanceof Object&&c instanceof Object?d.extend(!0,d.falsandtru[a][b],c):d.falsandtru[a][b]=c,f=d.falsandtru[a][b]}return f}if("function"===typeof this)return arguments.callee.apply(d(D),arguments);var k=window.validator instanceof Object?window.validator:!1;(k=k?validator.clone({name:"jquery.pjax.js",base:!0,timeout:{limit:t&&t.ajax&&t.ajax.timeout?t.ajax.timeout+
k.timeout.limit:k.timeout.limit}}):!1)&&k.start();k&&k.test("++",1,t,"pjax()");k&&k.test("++",1,0,"initialize");var b=d.extend(!0,{},{id:0,gns:"pjax",ns:null,area:null,link:'a:not([target])[href^="/"]',form:null,scope:null,state:null,scrollTop:0,scrollLeft:0,ajax:{},contentType:"text/html",cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,length:9,size:1048576,expire:18E5},callback:function(){},callbacks:{ajax:{},update:{url:{},title:{},content:{},css:{},script:{},cache:{load:{},save:{}},rendering:{},
verify:{}},async:!1},parameter:null,load:{css:!1,script:!1,execute:!0,sync:!0,async:0,rewrite:null},interval:300,wait:0,scroll:{delay:500,suspend:-100},fix:{location:!0,history:!0,scroll:!0},hashquery:!1,fallback:!0,database:!0,server:{},speedcheck:!1},t),s=[b.gns];k&&k.test("++",1,b,"overwrite");d.extend(!0,b,{nss:{pjax:s.join("."),click:["click"].concat(s.join(":")).join("."),submit:["submit"].concat(s.join(":")).join("."),popstate:["popstate"].concat(s.join(":")).join("."),scroll:["scroll"].concat(s.join(":")).join("."),
data:s.join(":"),class4html:s.join("-"),requestHeader:["X",s[0].replace(/^\w/,function(a){return a.toUpperCase()})].join("-"),array:s},location:d("<a/>",{href:f.location.href})[0],hashclick:!1,contentType:b.contentType.replace(/\s*[,;]\s*/g,"|").toLowerCase(),scroll:{queue:[]},database:b.database?f.indexedDB||f.webkitIndexedDB||f.mozIndexedDB||f.msIndexedDB||null:!1,server:{query:b.server.query?b.server.query:b.gns},log:{script:{},speed:{}},history:{config:b.cache,order:[],data:{},size:0},timestamp:(new Date).getTime(),
disable:!1,landing:f.location.href,retry:!0,xhr:null,speed:{now:function(){return(new Date).getTime()}},options:t,validate:k});b.id=1;v[b.id]=b;w=y=void 0;E={on:function(){b.disable=!1},off:function(){b.disable=!0},click:function(a,b){b=b||{};b.href=a;d("<a/>",b).one("click",1,y).click();return!0},submit:function(a,b,c){var f=document.createDocumentFragment(),h;if(a instanceof Object)b=d(a);else{b=b||{};b.action=a;a=c instanceof Array&&Array||c instanceof Object&&Object||x;for(var g in c){h=c[g];
switch(a){case Object:h=d("<textarea/>",{name:g}).val(h);break;case Array:h.attr=h.attr||{};h.attr.name=h.name;h=d(h.tag.indexOf("<")?"<"+h.tag+"/>":h.tag,h.attr||{}).val(h.value);break;default:continue}f.appendChild(h[0])}b=d("<form/>",b).append(f)}b.one("submit",1,w).submit();return!0},setCache:G,getCache:B,clearCache:function(){for(var a=b.history,d=a.order.length,c;c=a.order[--d];)a.order.splice(d,1),a.size-=a.data[c].size,delete a.data[c];return!0}};d.extend(!0,d.pjax,E);k&&k.test("++",1,0,"register");
"pushState"in f.history&&f.history.pushState&&b.area&&(b.link||b.form)&&(d.falsandtru||(d.fn.falsandtru=Q,d.falsandtru=Q),d.falsandtru("share","history",b.history),b.history=d.falsandtru("share","history"),R(this));k&&k.end();return E}})(jQuery);
